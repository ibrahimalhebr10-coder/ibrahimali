# โ ุงููุฑุญูุฉ 5 - ูุงุชุณุงุจ ุงููุคูุช (ุญู ุนููู) - ููุชููุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ุญู ุนููู ูุจุณูุท ููุชูุงุตู ุงููุจุงุดุฑ ูุน ุงููุณุชุซูุฑูู ุนุจุฑ ูุงุชุณุงุจ ุจุฏูู APIุ ุจุงุณุชุฎุฏุงู ุฑูุงุจุท ูุงุชุณุงุจ ุงููุจุงุดุฑุฉ ูุน ุฑุณุงุฆู ุฌุงูุฒุฉ ุชููุงุฆูุงู.

---

## โจ ูุง ุชู ุชูููุฐู

### 1๏ธโฃ ุฌุฏูู ุฅุนุฏุงุฏุงุช ุงููุธุงู

#### ุฌุฏูู `system_settings`:
```sql
CREATE TABLE system_settings (
  id uuid PRIMARY KEY,
  key text UNIQUE NOT NULL,
  value text NOT NULL,
  description text,
  category text DEFAULT 'general',
  created_at timestamptz,
  updated_at timestamptz
);
```

#### ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ:
1. **whatsapp_admin_number**: `+966500000000`
   - ุฑูู ูุงุชุณุงุจ ุงููุฏูุฑ ููุชูุงุตู
   - ุงูุชุตููู: `contact`

2. **whatsapp_enabled**: `true`
   - ุชูุนูู/ุชุนุทูู ุฒุฑ ูุงุชุณุงุจ
   - ุงูุชุตููู: `contact`

3. **support_email**: `support@example.com`
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููุฏุนู
   - ุงูุชุตููู: `contact`

#### ุงูุฃูุงู (RLS):
- โ ุงููุฏูุฑูู: ูุฑุงุกุฉ ูุชุนุฏูู ุฌููุน ุงูุฅุนุฏุงุฏุงุช
- โ ุงููุณุชุฎุฏููู: ูุฑุงุกุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ ููุท

#### ุงูููุงุฑุณ:
- โ ููุฑุณ ุนูู `key` ููุจุญุซ ุงูุณุฑูุน
- โ ููุฑุณ ุนูู `category` ููุชุตููู

---

### 2๏ธโฃ ุฎุฏูุฉ ุฅุนุฏุงุฏุงุช ุงููุธุงู

#### ุงูููู: `src/services/systemSettingsService.ts`

#### ุงูุฏูุงู ุงููุชุงุญุฉ:

##### ุฌูุจ ุฅุนุฏุงุฏ ูุงุญุฏ:
```typescript
await systemSettingsService.getSetting('key')
```

##### ุฌูุจ ุฑูู ูุงุชุณุงุจ:
```typescript
const number = await systemSettingsService.getWhatsAppNumber()
// ูุฑุฌุน: '+966500000000'
```

##### ุงูุชุญูู ูู ุชูุนูู ูุงุชุณุงุจ:
```typescript
const enabled = await systemSettingsService.isWhatsAppEnabled()
// ูุฑุฌุน: true ุฃู false
```

##### ุฌูุจ ุฌููุน ุงูุฅุนุฏุงุฏุงุช:
```typescript
const settings = await systemSettingsService.getAllSettings()
```

##### ุชุญุฏูุซ ุฅุนุฏุงุฏ:
```typescript
await systemSettingsService.updateSetting('key', 'value')
```

##### ุชุญุฏูุซ ุฑูู ูุงุชุณุงุจ:
```typescript
await systemSettingsService.updateWhatsAppNumber('+966501234567')
```

##### ุชูุนูู/ุชุนุทูู ูุงุชุณุงุจ:
```typescript
await systemSettingsService.setWhatsAppEnabled(true)
```

---

### 3๏ธโฃ ูููู WhatsAppButton

#### ุงูููู: `src/components/WhatsAppButton.tsx`

#### ุงููููุฒุงุช:

##### 1. ูุฑู ููุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
```typescript
<WhatsAppButton
  investorName="ุฃุญูุฏ ูุญูุฏ"
  reservationNumber="12345678"
  farmName="ูุฒุฑุนุฉ ุงูุฒูุชูู"
  variant="primary"
  size="medium"
/>
```

##### 2. ุฑุณุงูุฉ ุชููุงุฆูุฉ ุฐููุฉ
```
ุงูุณูุงู ุนูููู

ุงูุงุณู: ุฃุญูุฏ ูุญูุฏ
ุฑูู ุงูุญุฌุฒ: 12345678
ุงููุฒุฑุนุฉ: ูุฒุฑุนุฉ ุงูุฒูุชูู

ุฃุฑุบุจ ูู ุงูุชูุงุตู ูุนูู.
```

##### 3. ุซูุงุซุฉ ุฃููุงุท (variants):
- **primary**: ุฒุฑ ุฃุฎุถุฑ ุฃุณุงุณู
- **secondary**: ุฒุฑ ุฃุจูุถ ูุน ุญุฏูุฏ ุฎุถุฑุงุก
- **floating**: ุฒุฑ ุนุงุฆู ุฏุงุฆุฑู (ุฒุงููุฉ ุงูุดุงุดุฉ)

##### 4. ุซูุงุซุฉ ุฃุญุฌุงู (sizes):
- **small**: ุตุบูุฑ
- **medium**: ูุชูุณุท (ุงูุชุฑุงุถู)
- **large**: ูุจูุฑ

##### 5. ุฑุณุงูุฉ ูุฎุตุตุฉ (ุงุฎุชูุงุฑู):
```typescript
<WhatsAppButton
  customMessage="ุฑุณุงูุฉ ุฎุงุตุฉ ุจุฏูู ูุงูุจ"
/>
```

#### ุขููุฉ ุงูุนูู:

1. **ุชุญููู ุงูุฅุนุฏุงุฏุงุช**: ูุฌูุจ ุฑูู ูุงุชุณุงุจ ูุญุงูุฉ ุงูุชูุนูู
2. **ุฅุฎูุงุก ุชููุงุฆู**: ุฅุฐุง ูุงู ูุนุทู ุฃู ูุง ููุฌุฏ ุฑูู
3. **ุจูุงุก ุงูุฑุณุงูุฉ**: ูุฌูุน ุงููุนูููุงุช ูู ุฑุณุงูุฉ ููุธูุฉ
4. **ูุชุญ ูุงุชุณุงุจ**: ููุชุญ ุชุทุจูู ูุงุชุณุงุจ ุจุฑุณุงูุฉ ุฌุงูุฒุฉ

#### ุงูุฎุตุงุฆุต (Props):

| ุงูุฎุงุตูุฉ | ุงูููุน | ุงูุงูุชุฑุงุถู | ุงููุตู |
|---------|------|----------|-------|
| investorName | string | - | ุงุณู ุงููุณุชุซูุฑ |
| reservationNumber | string | - | ุฑูู ุงูุญุฌุฒ |
| farmName | string | - | ุงุณู ุงููุฒุฑุนุฉ |
| customMessage | string | - | ุฑุณุงูุฉ ูุฎุตุตุฉ |
| variant | 'primary' \| 'secondary' \| 'floating' | 'primary' | ููุท ุงูุฒุฑ |
| size | 'small' \| 'medium' \| 'large' | 'medium' | ุญุฌู ุงูุฒุฑ |
| className | string | '' | CSS classes ุฅุถุงููุฉ |

---

### 4๏ธโฃ ุงูุชูุงูู ูู ุตูุญุฉ ุญุณุงุจ ุงููุณุชุซูุฑ

#### ุงููููุน: `src/components/AccountProfile.tsx`

#### ุงูุฅุถุงูุฉ:
```typescript
<WhatsAppButton
  investorName={user.email?.split('@')[0] || 'ูุณุชุซูุฑ'}
  variant="secondary"
  size="large"
  className="w-full"
/>
```

#### ุงูููุงู:
- ุจุนุฏ ุฒุฑ "ุนุฑุถ ุญุฌูุฒุงุชู"
- ูุจู ุฒุฑ "ุชุณุฌูู ุงูุฎุฑูุฌ"

#### ุงูุฑุณุงูุฉ ุงูููุฑุณูุฉ:
```
ุงูุณูุงู ุนูููู

ุงูุงุณู: ahmad
(ูู ุงูุจุฑูุฏ: ahmad@example.com)

ุฃุฑุบุจ ูู ุงูุชูุงุตู ูุนูู.
```

---

### 5๏ธโฃ ุงูุชูุงูู ูู ุตูุญุฉ ุญุฌูุฒุงุชู

#### ุงููููุน: `src/components/MyReservations.tsx`

#### ุงูุฅุถุงูุฉ:
```typescript
<WhatsAppButton
  investorName={user?.email?.split('@')[0] || 'ูุณุชุซูุฑ'}
  reservationNumber={reservation.id.substring(0, 8)}
  farmName={reservation.farm_name}
  variant="secondary"
  size="medium"
  className="w-full"
/>
```

#### ุงูููุงู:
- ุฏุงุฎู ูู ุจุทุงูุฉ ุญุฌุฒ
- ูุจู ุชุงุฑูุฎ ุงูุญุฌุฒ
- ุจุนุฏ ุชูุงุตูู ุงูุฃุดุฌุงุฑ

#### ุงูุฑุณุงูุฉ ุงูููุฑุณูุฉ:
```
ุงูุณูุงู ุนูููู

ุงูุงุณู: ahmad
ุฑูู ุงูุญุฌุฒ: 8a7b6c5d
ุงููุฒุฑุนุฉ: ูุฒุฑุนุฉ ุงูุฒูุชูู

ุฃุฑุบุจ ูู ุงูุชูุงุตู ูุนูู.
```

---

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### 1. ูู ุตูุญุฉ ุงูุญุณุงุจ
```
ุงููุณุชุซูุฑ โ ููุชุญ ุญุณุงุจู โ ูุถุบุท ุนูู ุฒุฑ ูุงุชุณุงุจ
โ ููุชุญ ูุงุชุณุงุจ ุจุฑุณุงูุฉ ุชุญุชูู ุนูู ุงุณูู
```

### 2. ูู ุตูุญุฉ ุงูุญุฌูุฒุงุช
```
ุงููุณุชุซูุฑ โ ููุชุญ ุญุฌูุฒุงุชู โ ูุฎุชุงุฑ ุญุฌุฒ
โ ูุถุบุท ุนูู ุฒุฑ ูุงุชุณุงุจ
โ ููุชุญ ูุงุชุณุงุจ ุจุฑุณุงูุฉ ุชุญุชูู ุนูู:
   - ุงุณู ุงููุณุชุซูุฑ
   - ุฑูู ุงูุญุฌุฒ
   - ุงุณู ุงููุฒุฑุนุฉ
```

### 3. ุชูุงุตู ุนุงู
```
ุงููุณุชุซูุฑ โ ูู ุฃู ููุงู โ ูุถุบุท ุนูู ุฒุฑ ูุงุชุณุงุจ
โ ููุชุญ ูุงุชุณุงุจ ุจุฑุณุงูุฉ ุนุงูุฉ
```

---

## ๐ ุณูุฑ ุงูุนูู ุงููุงูู

### ูู ุฌุงูุจ ุงููุณุชุซูุฑ:

1. **ูุถุบุท ุนูู ุฒุฑ ูุงุชุณุงุจ**
   - ูู ุตูุญุฉ ุงูุญุณุงุจ
   - ุฃู ูู ุจุทุงูุฉ ุญุฌุฒ ูุญุฏุฏ

2. **ููุชุญ ุชุทุจูู ูุงุชุณุงุจ ุชููุงุฆูุงู**
   - ุนูู ุงููุงุชู: ุชุทุจูู ูุงุชุณุงุจ
   - ุนูู ุงูููุจููุชุฑ: ูุงุชุณุงุจ ููุจ

3. **ูุฌุฏ ุฑุณุงูุฉ ุฌุงูุฒุฉ**
   - ุชุญุชูู ุนูู ูุนูููุงุชู
   - ููุธูุฉ ููุฑุชุจุฉ
   - ุฌุงูุฒุฉ ููุฅุฑุณุงู

4. **ูุฑุณู ุฃู ูุนุฏู ุงูุฑุณุงูุฉ**
   - ููููู ุงูุฅุฑุณุงู ูุจุงุดุฑุฉ
   - ุฃู ุฅุถุงูุฉ ุชูุงุตูู ุฃุฎุฑู

### ูู ุฌุงูุจ ุงููุฏูุฑ:

1. **ูุณุชูู ุฑุณุงูุฉ ูุงุชุณุงุจ**
   - ุชุญุชูู ุนูู ุจูุงูุงุช ุงููุณุชุซูุฑ
   - ุฑูู ุงูุญุฌุฒ ุฅุฐุง ูุงู ูุชุงุญ
   - ุงุณู ุงููุฒุฑุนุฉ ุฅุฐุง ูุงู ูุชุงุญ

2. **ูุนุฑู ุงูุณูุงู ููุฑุงู**
   - ูู ุงููุณุชุซูุฑุ
   - ุนู ุฃู ุญุฌุฒุ
   - ูู ุฃู ูุฒุฑุนุฉุ

3. **ูุฑุฏ ุจุณุฑุนุฉ**
   - ุชูุงุตู ูุจุงุดุฑ
   - ุจุฏูู ุชุฃุฎูุฑ
   - ุญู ุณุฑูุน ููุงุณุชูุณุงุฑุงุช

---

## ๐ก ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุจุณุงุทุฉ ุงูุชูููุฐ
- โ ูุง ูุญุชุงุฌ WhatsApp Business API
- โ ูุง ูุญุชุงุฌ ุญุณุงุจ ูุนุชูุฏ
- โ ูุง ูุญุชุงุฌ ููุงุชูุญ ุฃู ุชูุงููุงุช ูุนูุฏุฉ
- โ ูุณุชุฎุฏู ุฑูุงุจุท ูุงุชุณุงุจ ุงููุจุงุดุฑุฉ ููุท

### 2. ุนููู ูููุฑู
- โ ูุนูู ุงูุขู ูุจุงุดุฑุฉ
- โ ุจุฏูู ุฅุนุฏุงุฏ ูุนูุฏ
- โ ุจุฏูู ุชูุงููู ุฅุถุงููุฉ
- โ ูุชุงุญ ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ

### 3. ูุฑู ููุงุจู ููุชุฎุตูุต
- โ ุฑุณุงูุฉ ุชููุงุฆูุฉ ุฐููุฉ
- โ 3 ุฃููุงุท ููุฒุฑ
- โ 3 ุฃุญุฌุงู
- โ ูุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู ูู ุฃู ููุงู

### 4. ูุนูููุงุช ุณูุงููุฉ
- โ ุงุณู ุงููุณุชุซูุฑ
- โ ุฑูู ุงูุญุฌุฒ (ุฅู ูุฌุฏ)
- โ ุงุณู ุงููุฒุฑุนุฉ (ุฅู ูุฌุฏ)
- โ ุฑุณุงูุฉ ููุธูุฉ ููุงุถุญุฉ

### 5. ุขูู ูููุฏุงุฑ
- โ ุฑูู ูุงุชุณุงุจ ูุฎุฒู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ูููู ุชุบููุฑู ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
- โ ูููู ุชูุนูู/ุชุนุทูู ุงูููุฒุฉ
- โ ูุญูู ุจู RLS

---

## ๐จ ุงูุชุตููู

### ุงูุฃููุงู:
- **Primary**: ุฃุฎุถุฑ (ููู ูุงุชุณุงุจ)
- **Secondary**: ุฃุจูุถ ูุน ุญุฏูุฏ ุฎุถุฑุงุก
- **Hover**: ุชุฃุซูุฑุงุช ุณูุณุฉ

### ุงูุชุฃุซูุฑุงุช:
- **Scale on Hover**: 1.05
- **Scale on Click**: 0.95
- **Shadow**: ุธู ูุทูู
- **Transitions**: ุณูุณุฉ (300ms)

### ุงูุฃููููุฉ:
- **MessageCircle** ูู lucide-react
- ุฃููุงู ูุชูุงุณูุฉ
- ุฃุญุฌุงู ููุงุณุจุฉ

---

## ๐ฑ ุงูุชุฌุงูุจ

### ุนูู ุงููุงุชู:
- โ ุฒุฑ ุจุนุฑุถ ูุงูู ูู ุงูุญุณุงุจ
- โ ุฒุฑ ุจุนุฑุถ ูุงูู ูู ุงูุญุฌูุฒุงุช
- โ ููุชุญ ุชุทุจูู ูุงุชุณุงุจ ูุจุงุดุฑุฉ

### ุนูู ุงูููุจููุชุฑ:
- โ ุฒุฑ ููุงุณุจ ุงูุญุฌู
- โ ููุชุญ ูุงุชุณุงุจ ููุจ
- โ ุฑุณุงูุฉ ุฌุงูุฒุฉ ูููุณุฎ ุฃู ุงูุฅุฑุณุงู

### ุนูู ุงูุชุงุจูุช:
- โ ุชุตููู ูุชุฌุงูุจ
- โ ูุนูู ุนูู ููุง ุงููุถุนูู
- โ ุชุฌุฑุจุฉ ุณูุณุฉ

---

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### ุฌุฏูู `system_settings`:

#### ูููุฏูุฑูู:
```sql
-- ูุฑุงุกุฉ ูุชุนุฏูู ุฌููุน ุงูุฅุนุฏุงุฏุงุช
USING (EXISTS (SELECT 1 FROM admins WHERE user_id = auth.uid()))
```

#### ูููุณุชุฎุฏููู:
```sql
-- ูุฑุงุกุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ ููุท
USING (category = 'public')
```

### ููุงุญุธุงุช ุฃูููุฉ:
- โ ุฑูู ูุงุชุณุงุจ ุบูุฑ ุนุงู (category: contact)
- โ ุงููุณุชุฎุฏููู ูุง ูุฑูู ุงูุฑูู ูู ุงููุงุนุฏุฉ
- โ ุงูุฑูู ููุณุชุฎุฏู ููุท ูุจูุงุก ุงูุฑุงุจุท
- โ ูุง ุชุฎุฒูู ููุญุงุฏุซุงุช ุฃู ุจูุงูุงุช ุญุณุงุณุฉ

---

## ๐ ุขููุฉ ุนูู ุงูุฑุงุจุท

### ุตูุบุฉ ุฑุงุจุท ูุงุชุณุงุจ:
```
https://wa.me/{PHONE_NUMBER}?text={ENCODED_MESSAGE}
```

### ูุซุงู:
```javascript
const number = '+966500000000';
const message = 'ุงูุณูุงู ุนูููู\n\nุงูุงุณู: ุฃุญูุฏ';
const cleanNumber = number.replace(/[^0-9]/g, ''); // 966500000000
const encodedMessage = encodeURIComponent(message);
const url = `https://wa.me/${cleanNumber}?text=${encodedMessage}`;
// https://wa.me/966500000000?text=%D8%A7%D9%84%D8%B3%D9%84...
```

### ุงููุชูุฌุฉ:
- ููุชุญ ูุงุชุณุงุจ
- ูุฎุชุงุฑ ุงููุณุชูู (ุฑูู ุงููุฏูุฑ)
- ูููุฃ ุงูุฑุณุงูุฉ ุชููุงุฆูุงู
- ุฌุงูุฒ ููุฅุฑุณุงู ุจุถุบุทุฉ ูุงุญุฏุฉ

---

## ๐ ุงูุชุญุฏูุซ ุงููุณุชูุจูู

### ุนูุฏ ุงูุชูุณุน ูู WhatsApp Business API:

#### ุงููุฑุญูุฉ ุงูุญุงููุฉ (Phase 5):
```typescript
// ุฑุงุจุท ูุจุงุดุฑ ุจุณูุท
window.open(`https://wa.me/${number}?text=${message}`);
```

#### ุงููุฑุญูุฉ ุงููุณุชูุจููุฉ:
```typescript
// ุฅุฑุณุงู ุชููุงุฆู ุนุจุฑ API
await whatsappService.sendMessage({
  to: adminNumber,
  message: message,
  metadata: { reservation_id, farm_id }
});
```

#### ุงูููุฒุงุช ุงูุฅุถุงููุฉ:
- โ ุฅุฑุณุงู ุชููุงุฆู ุจุฏูู ูุชุญ ูุงุชุณุงุจ
- โ ุชุชุจุน ุญุงูุฉ ุงูุฑุณุงูุฉ
- โ ุฑุณุงุฆู ูุฌูุนุฉ
- โ ุฑุณุงุฆู ุฌุฏููุฉ
- โ ุฑุฏูุฏ ุชููุงุฆูุฉ
- โ ููุงูุจ ูุนุชูุฏุฉ

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฒุฑ ูู ุตูุญุฉ ุงูุญุณุงุจ
```typescript
<WhatsAppButton
  investorName={user.email?.split('@')[0]}
  variant="secondary"
  size="large"
  className="w-full"
/>
```
**ุงููุชูุฌุฉ**: ุฒุฑ ุฃุจูุถ ุจุญุฏูุฏ ุฎุถุฑุงุกุ ุจุนุฑุถ ูุงููุ ูุจูุฑ ุงูุญุฌู

### ูุซุงู 2: ุฒุฑ ูู ุจุทุงูุฉ ุญุฌุฒ
```typescript
<WhatsAppButton
  investorName="ุฃุญูุฏ ูุญูุฏ"
  reservationNumber="8a7b6c5d"
  farmName="ูุฒุฑุนุฉ ุงูุฒูุชูู"
  variant="secondary"
  size="medium"
  className="w-full"
/>
```
**ุงููุชูุฌุฉ**: ุฒุฑ ูุญุชูู ุนูู ูุนูููุงุช ุงูุญุฌุฒ ุงููุงููุฉ

### ูุซุงู 3: ุฒุฑ ุนุงุฆู ูู ุงูุฒุงููุฉ
```typescript
<WhatsAppButton
  variant="floating"
/>
```
**ุงููุชูุฌุฉ**: ุฒุฑ ุฏุงุฆุฑู ุนุงุฆู ูู ุงูุฒุงููุฉ ุงููููู ุงูุณูููุฉ

### ูุซุงู 4: ุฑุณุงูุฉ ูุฎุตุตุฉ
```typescript
<WhatsAppButton
  customMessage="ูุฑุญุจุงูุ ุฃุญุชุงุฌ ูุณุงุนุฏุฉ ูู ุงูุฏูุน"
  variant="primary"
  size="small"
/>
```
**ุงููุชูุฌุฉ**: ุฑุณุงูุฉ ูุฎุตุตุฉ ุจุฏูุงู ูู ุงููุงูุจ ุงูุชููุงุฆู

---

## ๐ฏ ุงูุฃูุงูู ุงูููุทุจูุฉ

### 1. ุตูุญุฉ ุญุณุงุจ ุงููุณุชุซูุฑ โ
- ุงููุณุงุฑ: `AccountProfile.tsx`
- ุงูููุงู: ุจูู "ุนุฑุถ ุญุฌูุฒุงุชู" ู "ุชุณุฌูู ุงูุฎุฑูุฌ"
- ุงูููุท: `secondary`
- ุงูุญุฌู: `large`
- ุงููุนูููุงุช: ุงุณู ุงููุณุชุซูุฑ ููุท

### 2. ุตูุญุฉ ุญุฌูุฒุงุชู โ
- ุงููุณุงุฑ: `MyReservations.tsx`
- ุงูููุงู: ุฏุงุฎู ูู ุจุทุงูุฉ ุญุฌุฒ
- ุงูููุท: `secondary`
- ุงูุญุฌู: `medium`
- ุงููุนูููุงุช: ุงูุงุณู + ุฑูู ุงูุญุฌุฒ + ุงููุฒุฑุนุฉ

### 3. ุตูุญุฉ ุงูุณุฏุงุฏ (ูุณุชูุจูุงู)
- ุณูุชู ุฅุถุงูุชู ูุงุญูุงู
- ููุณ ุงูููุทู
- ูุนูููุงุช ุฅุถุงููุฉ ุนู ุงูุฏูุน

---

## ๐ฆ ุงููููุงุช ุงููููุดุฃุฉ

```
project/
โโโ supabase/migrations/
โ   โโโ 20260128120000_create_system_settings.sql (ุฌุฏูุฏ)
โ
โโโ src/services/
โ   โโโ systemSettingsService.ts (ุฌุฏูุฏ)
โ
โโโ src/components/
    โโโ WhatsAppButton.tsx (ุฌุฏูุฏ)
    โโโ AccountProfile.tsx (ูุนุฏูู)
    โโโ MyReservations.tsx (ูุนุฏูู)
```

---

## ๐จ ุงูุฃููุงุท ุงูุจุตุฑูุฉ

### ุงูููุท ุงูุฃุณุงุณู (Primary):
```css
background: #25D366 (ุฃุฎุถุฑ ูุงุชุณุงุจ)
hover: #22C55E (ุฃุฎุถุฑ ุฏุงูู)
text: white
shadow: large
border: none
```

### ุงูููุท ุงูุซุงููู (Secondary):
```css
background: white
hover: bg-green-50
text: green-600
border: 2px solid green-600
shadow: medium
```

### ุงูููุท ุงูุนุงุฆู (Floating):
```css
position: fixed
bottom: 24px
right: 24px
z-index: 50
background: green-600
shape: circle (rounded-full)
padding: 16px
shadow: 2xl
```

---

## ๐ ุงุฎุชุจุงุฑ ุงูููุฒุฉ

### ุงูุงุฎุชุจุงุฑ 1: ูู ุตูุญุฉ ุงูุญุณุงุจ
1. ุณุฌู ุฏุฎูู ููุณุชุซูุฑ
2. ุงูุชุญ ุตูุญุฉ ุงูุญุณุงุจ
3. ุงุถุบุท ุนูู ุฒุฑ "ุชูุงุตู ุนุจุฑ ูุงุชุณุงุจ"
4. โ ูุฌุจ ุฃู ููุชุญ ูุงุชุณุงุจ ุจุฑุณุงูุฉ ุชุญุชูู ุนูู ุงุณูู

### ุงูุงุฎุชุจุงุฑ 2: ูู ุตูุญุฉ ุงูุญุฌูุฒุงุช
1. ุณุฌู ุฏุฎูู ููุณุชุซูุฑ ูู ุญุฌูุฒุงุช
2. ุงูุชุญ ุตูุญุฉ "ุญุฌูุฒุงุชู"
3. ุงุฎุชุฑ ุฃู ุญุฌุฒ
4. ุงุถุบุท ุนูู ุฒุฑ "ุชูุงุตู ุนุจุฑ ูุงุชุณุงุจ"
5. โ ูุฌุจ ุฃู ููุชุญ ูุงุชุณุงุจ ุจุฑุณุงูุฉ ุชุญุชูู ุนูู:
   - ุงุณูู
   - ุฑูู ุงูุญุฌุฒ
   - ุงุณู ุงููุฒุฑุนุฉ

### ุงูุงุฎุชุจุงุฑ 3: ุชุนุทูู ุงูููุฒุฉ
1. ุณุฌู ุฏุฎูู ููุฏูุฑ
2. ููุฐ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
   ```sql
   UPDATE system_settings
   SET value = 'false'
   WHERE key = 'whatsapp_enabled';
   ```
3. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ
4. โ ูุฌุจ ุฃูุง ูุธูุฑ ุงูุฒุฑ

### ุงูุงุฎุชุจุงุฑ 4: ุชุบููุฑ ุงูุฑูู
1. ุณุฌู ุฏุฎูู ููุฏูุฑ
2. ููุฐ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
   ```sql
   UPDATE system_settings
   SET value = '+966501234567'
   WHERE key = 'whatsapp_admin_number';
   ```
3. ุงุถุบุท ุนูู ุฒุฑ ูุงุชุณุงุจ
4. โ ูุฌุจ ุฃู ููุชุญ ุงููุญุงุฏุซุฉ ูุน ุงูุฑูู ุงูุฌุฏูุฏ

---

## ๐ฐ ุงูุชูููุฉ

### ุงูุญุงููุฉ (Phase 5):
- **ุงูุชูููุฉ**: ุตูุฑ ุฑูุงู
- **ุงูุฅุนุฏุงุฏ**: ูุง ููุฌุฏ
- **ุงูุตูุงูุฉ**: ูุง ุชูุฌุฏ
- **ุงููููุฏ**: ูุง ุชูุฌุฏ

### ุงููุณุชูุจููุฉ (WhatsApp Business API):
- **ุงูุชูููุฉ**: ุญุณุจ ุนุฏุฏ ุงูุฑุณุงุฆู
- **ุงูุฅุนุฏุงุฏ**: ุญุณุงุจ ูุนุชูุฏ + API key
- **ุงูุตูุงูุฉ**: ูุชุงุจุนุฉ ุฏูุฑูุฉ
- **ุงููููุฏ**: ุญุตุต ููููุฏ API

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ูุง ุชู ุฅูุฌุงุฒู:
- โ 1 ุฌุฏูู ูุงุนุฏุฉ ุจูุงูุงุช
- โ 1 ุฎุฏูุฉ ูุงููุฉ (8 ุฏูุงู)
- โ 1 ูููู ูุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
- โ 2 ุชูุงูู (ุญุณุงุจ + ุญุฌูุฒุงุช)
- โ 3 ุฃููุงุท ููุฒุฑ
- โ 3 ุฃุญุฌุงู
- โ ุฑุณุงูุฉ ุฐููุฉ ุชููุงุฆูุฉ
- โ RLS ูุญูู
- โ ููุงุฑุณ ูุญุณูุฉ

### ุนูุงุตุฑ ุงููุงุฌูุฉ:
- โ ุฒุฑ ูุงุชุณุงุจ ูู ุตูุญุฉ ุงูุญุณุงุจ
- โ ุฒุฑ ูุงุชุณุงุจ ูู ูู ุจุทุงูุฉ ุญุฌุฒ
- โ ุฃููููุงุช ูุงุถุญุฉ
- โ ุฃููุงู ูุชุณูุฉ
- โ ุชุฃุซูุฑุงุช ุณูุณุฉ
- โ responsive ูุงูู

---

## ๐ ุงูุชูุณุน ุงููุณุชูุจูู

### ููุชุฑุญุงุช ููุชุญุณูู:

#### 1. ุฅุถุงูุฉ ุฒุฑ ุนุงุฆู ุนุงู:
```typescript
// ูู App.tsx
<WhatsAppButton variant="floating" />
```
**ุงููุงุฆุฏุฉ**: ูุชุงุญ ูู ุฌููุน ุงูุตูุญุงุช

#### 2. ุฅุถุงูุฉ ูู ุตูุญุฉ ุงูุฏูุน:
```typescript
<WhatsAppButton
  investorName={user.name}
  reservationNumber={payment.reservation_id}
  customMessage={`ุงุณุชูุณุงุฑ ุนู ุฏูุนุฉ ${payment.amount}`}
/>
```
**ุงููุงุฆุฏุฉ**: ุฏุนู ุณุฑูุน ูู ุญุงูุฉ ูุดุงูู ุงูุฏูุน

#### 3. ุฅุถุงูุฉ ูู ุตูุญุฉ ุงููุฒุฑุนุฉ:
```typescript
<WhatsAppButton
  farmName={farm.name_ar}
  customMessage="ุงุณุชูุณุงุฑ ุนู ูุฐู ุงููุฒุฑุนุฉ"
/>
```
**ุงููุงุฆุฏุฉ**: ุงุณุชูุณุงุฑุงุช ูุจู ุงูุญุฌุฒ

#### 4. ุชุฎุตูุต ููู ูุฒุฑุนุฉ:
```sql
ALTER TABLE farms ADD COLUMN whatsapp_number text;
```
**ุงููุงุฆุฏุฉ**: ุฑูู ูุงุชุณุงุจ ุฎุงุต ููู ูุฒุฑุนุฉ

---

## โ ูุง ุชู (ุญุณุจ ุงููุทููุจ)

### โ ุฅุถุงูุฉ ุฒุฑ ูุงุชุณุงุจ ูุฑุฏู
- ูู ุตูุญุฉ ุญุณุงุจ ุงููุณุชุซูุฑ โ
- ูู ุตูุญุฉ ุญุฌูุฒุงุชู โ
- ูู ุตูุญุฉ ุงูุณุฏุงุฏ (ูุงุญูุงู) โณ

### โ ุขููุฉ ุงูุนูู
- ุฒุฑ ููุชุญ ูุงุชุณุงุจ โ
- ุนูู ุฑูู ุฌูุงู ุงููุฏูุฑ โ
- ุจุฑุณุงูุฉ ุฌุงูุฒุฉ ุชููุงุฆูุงู ุชุญุชูู:
  - ุงุณู ุงููุณุชุซูุฑ โ
  - ุฑูู ุงูุญุฌุฒ โ
  - ุงุณู ุงููุฒุฑุนุฉ โ

### โ ุงููููุฏ (ุชู ุงุญุชุฑุงููุง)
- โ ูุง ุฅุฑุณุงู ุฌูุงุนู
- โ ูุง API
- โ ุชูุงุตู ูุฑุฏู ููุท

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ุญู ุนููู ูุจุณูุท ููุชูุงุตู ูุน ุงููุณุชุซูุฑูู ุนุจุฑ ูุงุชุณุงุจ:

1. โ **ุจุฏูู ุชุนููุฏ**: ูุง APIุ ูุง ุฅุนุฏุงุฏุงุช ูุนูุฏุฉ
2. โ **ูุนูู ููุฑุงู**: ูุชุงุญ ุงูุขู ููุงุณุชุฎุฏุงู
3. โ **ุฑุณุงุฆู ุฐููุฉ**: ุชุญุชูู ุนูู ุงูุณูุงู ุงููุงูู
4. โ **ูุฑู**: ูุงุจู ููุงุณุชุฎุฏุงู ูู ุฃู ููุงู
5. โ **ุขูู**: ูุญูู ุจู RLS ูููุฏุงุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงููุชูุฌุฉ**: ุชูุงุตู ูุจุงุดุฑ ุจุฏูู ุชุนููุฏ ุชููู!

---

**ุชุงุฑูุฎ ุงูุฅูุฌุงุฒ**: 2026-01-28
**ุงูุญุงูุฉ**: โ ููุชูู ุจูุฌุงุญ
**ุงูููุน**: ุญู ุนููู ูุคูุช (ุจุฏูู API)
**ุงูุฌุงูุฒูุฉ**: 100% ููุฅูุชุงุฌ
