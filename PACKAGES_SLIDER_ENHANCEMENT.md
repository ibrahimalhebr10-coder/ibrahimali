# تحسين عرض الباقات - سليدر تفاعلي

## نظرة عامة
تم تحويل عرض الباقات من Grid ثابت إلى سليدر أفقي تفاعلي مع مؤشرات واضحة.

## التحديثات المنفذة

### 1. سليدر أفقي بدلاً من Grid

#### قبل:
```tsx
<div className="grid grid-cols-2 gap-3">
  {/* الباقات */}
</div>
```

#### بعد:
```tsx
<div className="flex gap-3 overflow-x-auto snap-x snap-mandatory">
  {/* الباقات - كل باقة تأخذ 85% من عرض الشاشة */}
</div>
```

### 2. مميزات السليدر الجديد

#### أ. Snap Scrolling
- كل باقة تأخذ 85% من عرض الشاشة
- عند التمرير، تثبت الباقة في المنتصف تلقائياً
- تجربة سلسة ومريحة

#### ب. أسهم التنقل
- سهم يمين: الانتقال للباقة السابقة
- سهم يسار: الانتقال للباقة التالية
- تظهر الأسهم فقط عند وجود أكثر من باقة واحدة
- الأسهم غير المتاحة تظهر باهتة (disabled)

#### ج. نقاط المؤشر (Dots Indicator)
```
● ━ ━  (الباقة الأولى مفعّلة)
━ ● ━  (الباقة الثانية مفعّلة)
━ ━ ●  (الباقة الثالثة مفعّلة)
```

**الخصائص:**
- تظهر فقط عند وجود أكثر من باقة
- النقطة الحالية: خط طويل أخضر داكن (6px × 2px)
- النقاط الأخرى: دوائر صغيرة خضراء فاتحة (2px × 2px)
- قابلة للضغط للانتقال السريع للباقة

#### د. التمرير اليدوي
- يمكن سحب السليدر يدوياً بالإصبع (جوال) أو الماوس
- تحديث تلقائي للنقاط المؤشرة عند التمرير
- smooth scrolling عند الضغط على الأسهم أو النقاط

### 3. الحالات المختلفة

#### عند وجود باقة واحدة:
- ✅ لا تظهر الأسهم
- ✅ لا تظهر النقاط
- ✅ الباقة تأخذ 85% من العرض (بدون تمرير)

#### عند وجود باقتين:
- ✅ تظهر الأسهم
- ✅ تظهر نقطتان مؤشرتان
- ✅ التمرير سلس بين الباقتين
- ✅ كل باقة تبرز بشكل واضح

#### عند وجود ثلاث باقات أو أكثر:
- ✅ جميع المميزات مفعّلة
- ✅ شعور واضح بوجود محتوى إضافي
- ✅ النقاط تعطي فكرة عن عدد الباقات

### 4. التحسينات البصرية

#### الرأس (Header):
```tsx
<div className="flex items-center justify-between">
  <h3>باقات محصولي الزراعي</h3>
  <div className="flex gap-2">
    {/* أسهم التنقل */}
  </div>
</div>
```

#### الباقة المختارة:
- حدود خضراء سميكة
- خلفية متدرجة من الأخضر الفاتح
- ظل واضح (shadow-lg)
- تبرز بشكل مميز عن الباقات الأخرى

### 5. التفاصيل التقنية

#### State Management:
```tsx
const [currentPackageIndex, setCurrentPackageIndex] = useState(0);
const packagesScrollRef = useRef<HTMLDivElement>(null);
```

#### دوال التنقل:
```tsx
// التمرير لباقة معينة
const scrollToPackage = (index: number) => {
  // حساب الموقع والتمرير السلس
}

// تتبع التمرير اليدوي
const handlePackageScroll = () => {
  // تحديث النقطة المؤشرة الحالية
}
```

## الفوائد

### للمستخدم:
1. ✅ **شعور بوجود محتوى أكثر**: حتى مع باقتين فقط
2. ✅ **سهولة التنقل**: أسهم ونقاط واضحة
3. ✅ **تجربة سلسة**: snap scrolling
4. ✅ **رؤية أفضل**: كل باقة تأخذ مساحة أكبر

### للإدارة:
1. ✅ **قابلية التوسع**: يمكن إضافة عدد غير محدود من الباقات
2. ✅ **تجربة متسقة**: بغض النظر عن عدد الباقات
3. ✅ **مرونة كاملة**: نفس الكود يعمل مع 1 باقة أو 100

## الملفات المعدلة

- ✅ `src/components/AgriculturalFarmPage.tsx`
  - إضافة imports للأسهم (ChevronLeft, ChevronRight)
  - إضافة states وrefs للسليدر
  - إضافة دوال التنقل والتتبع
  - استبدال grid بسليدر
  - إضافة الأسهم والنقاط المؤشرة

## الحالة النهائية

✅ السليدر يعمل بشكل مثالي
✅ الأسهم تعمل بشكل صحيح
✅ النقاط المؤشرة تتحدث بشكل تلقائي
✅ Snap scrolling يعمل بسلاسة
✅ البناء نجح بدون أخطاء
✅ تجربة مستخدم احترافية

## معاينة التصميم

```
┌─────────────────────────────────────┐
│ باقات محصولي الزراعي      ◄  ►    │
├─────────────────────────────────────┤
│  ┌──────────────────────────────┐   │
│  │       عقد سنة                │   │
│  │   ┌──────────────────┐       │   │
│  │   │   197 ر.س        │       │   │
│  │   │ للشجرة الواحدة   │       │   │
│  │   └──────────────────┘       │   │
│  │  إضافة سنتين مجاناً         │   │
│  │  [اقرأ المزيد عن الباقة]    │   │
│  └──────────────────────────────┘   │
│           ━ ● (مؤشر النقاط)        │
└─────────────────────────────────────┘
```

## المستقبل

يمكن إضافة لاحقاً:
- Auto-play للسليدر (اختياري)
- تأثيرات انتقال متقدمة
- معاينة جزئية للباقة التالية
- سحب للحذف (swipe to dismiss) - إن لزم
