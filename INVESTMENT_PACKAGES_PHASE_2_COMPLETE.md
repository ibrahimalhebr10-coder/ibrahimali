# ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุฅุฏุงุฑุฉ ุจุงูุงุช ูุญุตููู ุงูุงุณุชุซูุงุฑู - ููุชููุฉ

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุจูุงุก ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ **ุจุงูุงุช ูุญุตููู ุงูุงุณุชุซูุงุฑู** ูู ููุญุฉ ุงูุชุญูู ุงูุฅุฏุงุฑูุฉ.

---

## ุงูููููู ุงูุฃุณุงุณู

```
ุงูุจุงูุฉ ุงูุงุณุชุซูุงุฑูุฉ = ุนูุฏ ุงุณุชุซูุงุฑ
  โโโ ููุณุช ุนุฏุฏ ุฃุดุฌุงุฑ ูุญุฏุฏ
  โโโ ุชูุซู ุดุฑูุท ุงูุนูุฏ ูุขููุชู
  โโโ ูุฎุชุงุฑ ุงููุณุชุซูุฑ ุนุฏุฏ ุงูุฃุดุฌุงุฑ ูุงุญูุงู (ููู ุงูููุงุนุฏ)
```

---

## ูุงุนุฏุฉ ุนุฏุฏ ุงูุฃุดุฌุงุฑ (ุงูุฌููุฑ)

### ุงูููุงุนุฏ ุงูุฅูุฒุงููุฉ

```yaml
ุงูุญุฏ ุงูุฃุฏูู: 50 ุดุฌุฑุฉ
ุงููุถุงุนูุงุช: 50 ููุท (50ุ 100ุ 150ุ 200ุ ...)
ุงูุฃุฒุฑุงุฑ ุงูุณุฑูุนุฉ: 100ุ 200ุ 500ุ 1000
```

### โ ููููุน

```
โ ุฃูู ูู 50 ุดุฌุฑุฉ
โ ุฃุนุฏุงุฏ ุนุดูุงุฆูุฉ (ูุซู 75 ุฃู 130)
โ ุฃุนุฏุงุฏ ุบูุฑ ูุถุงุนูุงุช 50
```

### โ ูุณููุญ

```
โ 50
โ 100
โ 150
โ 200
โ 250
โ 500
โ 1000
โ ุฃู ูุถุงุนู ูู 50
```

---

## ุญููู ุงููุณุชุซูุฑ (ุซุงุจุชุฉ ูู ูู ุนูุฏ)

### ุญููู ูุงููุฉ ุดุงููุฉ

```yaml
ุงูุซูุงุฑ ุงูููุณููุฉ: โ
ุงูุฒููุช ุงููุณุชุฎุฑุฌุฉ: โ
ูุฎููุงุช ุงูุชูููู (ุงูุญุทุจ): โ
ุฃูุฑุงู ุงูุฃุดุฌุงุฑ: โ
ุจูุงูุง ุงูุนุตุฑ (ุงูุชูู): โ
ุฃู ูุงุชุฌ ูุจุงุชู ูุงุจู ููุจูุน: โ
```

### ุขููุฉ ุงูุงุณุชูุงุฏุฉ

```
1. ุงูููุตุฉ ุชุฌูุน ูู ุงููุฎุฑุฌุงุช
2. ุชุจูุน ุงูุซูุงุฑ ูุงููุฎููุงุช
3. ุชุญุณุจ ุงูุนุงุฆุฏ
4. ุชูุฒุน ุนูู ุงููุณุชุซูุฑูู ุญุณุจ ุนุฏุฏ ุฃุดุฌุงุฑูู
```

---

## ูููุฐุฌ ุงูุจุงูุฉ ุงูุงุณุชุซูุงุฑูุฉ

### 1. ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ โ

```typescript
{
  package_name: string              // ุงุณู ุงูุนูุฏ
  price_per_tree: number            // ุณุนุฑ ุงูุดุฌุฑุฉ ุงููุงุญุฏุฉ
  base_duration_years: number       // ูุฏุฉ ุงูุงุณุชุซูุงุฑ ุงูุฃุณุงุณูุฉ
  bonus_free_years: number          // ุณููุงุช ุฅุถุงููุฉ ูุฌุงููุฉ
  motivational_text: string         // ูุต ุชุญููุฒู (ุงุฎุชูุงุฑู)
  contract_id: string               // ุฑุจุท ูุน ุนูุฏ ุงููุฒุฑุนุฉ
}
```

#### ูุซุงู

```yaml
ุงุณู ุงูุจุงูุฉ: "ุนูุฏ ุงุณุชุซูุงุฑ 4 ุณููุงุช"
ุงูุณุนุฑ: 397 ุฑูุงู ููุดุฌุฑุฉ
ูุฏุฉ ุงูุงุณุชุซูุงุฑ: 4 ุณููุงุช
ุณููุงุช ูุฌุงููุฉ: 0
ุงููุต ุงูุชุญููุฒู: "ุฃูุถู ุนุงุฆุฏ ุงุณุชุซูุงุฑู ูุน ุถูุงู ุงูุฅุฏุงุฑุฉ"
```

---

### 2. ููุงุนุฏ ุนุฏุฏ ุงูุฃุดุฌุงุฑ โ

```typescript
{
  min_trees: number                 // ุงูุญุฏ ุงูุฃุฏูู (50)
  tree_increment: number            // ุงููุถุงุนูุงุช (50)
  quick_select_options: number[]    // [100, 200, 500, 1000]
}
```

#### ุนุฑุถ ูู ุงููุงุฌูุฉ (ูุณุชูุจูู)

```javascript
// ุฃุฒุฑุงุฑ ุณุฑูุนุฉ
[100]  [200]  [500]  [1000]

// ุงุฎุชูุงุฑ ูุฎุตุต
โโโโโโโโโโโโโโโโโโโโโโโ
โ ุนุฏุฏ ุงูุฃุดุฌุงุฑ: [150] โ  โ ูุฌุจ โฅ50 ููู ูุถุงุนูุงุช 50
โโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 3. ูุถููู ุงูุนูุฏ ุงูุงุณุชุซูุงุฑู โ

#### ุฃ) ุชุนุฑูู ุงูุนูุฏ

```
"ูุฐู ุงูุจุงูุฉ ุชูุซู ุนูุฏ ุงุณุชุซูุงุฑ ูู ุฃุดุฌุงุฑ ูุซูุฑุฉ ุญููููุฉ ุชูุฏุงุฑ ุจุงููุงูู
ูู ุงูููุตุฉ ุทูุงู ูุฏุฉ ุงูุนูุฏ."
```

#### ุจ) ุญููู ุงููุณุชุซูุฑ

```
- ุงูุซูุงุฑ ุงูููุณููุฉ
- ุงูุฒููุช ุงููุณุชุฎุฑุฌุฉ
- ูุฎููุงุช ุงูุชูููู (ุงูุญุทุจ)
- ุฃูุฑุงู ุงูุฃุดุฌุงุฑ
- ุจูุงูุง ุงูุนุตุฑ ูุงูููุงุชุฌ ุงููุจุงุชูุฉ
```

#### ุฌ) ุขููุฉ ุงูุฅุฏุงุฑุฉ

```
"ุงูููุตุฉ ุชุชููู ุงูุฒุฑุงุนุฉุ ุงูุฑูุ ุงูุตูุงูุฉุ ูุงูุญุตุงุฏ.
ุฅุฏุงุฑุฉ ุจูุน ุงูููุชุฌุงุช ูุงููุฎููุงุช.
ูุชุงุจุนุฉ ุฏูุฑูุฉ ุนุจุฑ ุญุณุงุจ ุงููุณุชุซูุฑ."
```

#### ุฏ) ูุนูููุงุช ุงูุนุงุฆุฏ

```
"ุงูุนุงุฆุฏ ูุฑุชุจุท ุจุงูุฅูุชุงุฌ ูุงูููุณู.
ูุง ุชูุฌุฏ ุนูุงุฆุฏ ุซุงุจุชุฉ ุฃู ูุถูููุฉ.
ุชูุงุตูู ุงูุนูุงุฆุฏ ุชุธูุฑ ุฏุงุฎู ุงูุญุณุงุจ ุนูุฏ ุชููุฑูุง."
```

#### ูู) ุงูุชูููู ูุงูุฅุฎูุงุก

```
"ุงูุงุณุชุซูุงุฑ ุงูุฒุฑุงุนู ูุฎุถุน ูุนูุงูู ุทุจูุนูุฉ ูููุงุฎูุฉ
ูุงูููุตุฉ ุชุฏูุฑ ุงูุงุณุชุซูุงุฑ ููุง ุชุถูู ูุชุงุฆุฌ ูุงููุฉ ูุญุฏุฏุฉ."
```

#### ู) ูุต ุฒุฑ ุงูุฅุฌุฑุงุก

```
"ุงุฎุชูุงุฑ ูุฐู ุงูุจุงูุฉ ูุจุฏุก ุงุณุชุซูุงุฑ ุฃุดุฌุงุฑู"
```

---

### 4. ุฅุนุฏุงุฏุงุช ุงูุนุฑุถ โ

```typescript
{
  is_active: boolean        // ุญุงูุฉ ุงูุจุงูุฉ (ููุนูุฉ / ูุฎููุฉ)
  sort_order: number        // ุชุฑุชูุจ ุงูุธููุฑ
}
```

---

## ุณููู ุงูุจุงูุฉ (ุนูุฏ ุงูุชูุนูู ุงููุณุชูุจูู)

### ูุณุงุฑ ุงููุณุชุซูุฑ

```
1. ุงุฎุชูุงุฑ ุงูุจุงูุฉ (ุงูุนูุฏ)
   โ
2. ุงุฎุชูุงุฑ ุนุฏุฏ ุงูุฃุดุฌุงุฑ (ููู ุงูููุงุนุฏ)
   โ
3. ูุฑุงุฌุนุฉ ุงูุชูููุฉ = ุนุฏุฏ ุงูุฃุดุฌุงุฑ ร ุณุนุฑ ุงูุดุฌุฑุฉ
   โ
4. ุงูุฏูุน
   โ
5. ุณุญุจ ููุฑู ูู ุฎุฒุงู ุงููุฒุฑุนุฉ
   โ
6. ุฅูุดุงุก ุงูุนูุฏ ูุชูุนูู ุงูุงุณุชุซูุงุฑ
```

### โ ูุง ูุง ูุญุฏุซ

```
โ ูุง ุญุฌุฒ ูุคูุช
โ ูุง ุงูุชุธุงุฑ ููุงููุฉ
โ ูุง ุชุฃููุฏ ูุฏูู
```

### โ ูุง ูุญุฏุซ

```
โ ุฏูุน โ ุณุญุจ ููุฑู โ ุชูุนูู ูุจุงุดุฑ
โ ุงูุนูุฏ ููุดุฃ ุชููุงุฆูุงู
โ ุงููุณุชุซูุฑ ูุฏุฎู ุญุณุงุจู ูุจุงุดุฑุฉ
```

---

## ุงูุจููุฉ ุงูุชูููุฉ

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุฌุฏูู investment_packages

```sql
CREATE TABLE investment_packages (
  id uuid PRIMARY KEY,
  contract_id uuid REFERENCES farm_contracts(id),

  -- ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ
  package_name text NOT NULL,
  price_per_tree integer NOT NULL,
  base_duration_years integer NOT NULL DEFAULT 4,
  bonus_free_years integer NOT NULL DEFAULT 0,
  motivational_text text,

  -- ููุงุนุฏ ุนุฏุฏ ุงูุฃุดุฌุงุฑ
  min_trees integer NOT NULL DEFAULT 50,
  tree_increment integer NOT NULL DEFAULT 50,
  quick_select_options jsonb DEFAULT '[100, 200, 500, 1000]'::jsonb,

  -- ุงููุถููู
  description text NOT NULL,
  investment_duration_title text DEFAULT 'ูุฏุฉ ุงูุงุณุชุซูุงุฑ',
  investor_rights jsonb,
  management_approach text,
  returns_info text,
  disclaimer text,
  action_button_text text,

  -- ุฅุนุฏุงุฏุงุช ุงูุนุฑุถ
  is_active boolean DEFAULT true,
  sort_order integer DEFAULT 0,

  created_at timestamptz DEFAULT now(),
  updated_at timestamptz DEFAULT now()
);
```

#### Constraints (ูููุฏ ุงูุฌูุฏุฉ)

```sql
-- ุงูุชุฃูุฏ ูู ุตุญุฉ ุงููุถุงุนูุงุช
CHECK (tree_increment > 0 AND tree_increment <= min_trees)

-- ุงูุชุฃูุฏ ูู ุงูุญุฏ ุงูุฃุฏูู
CHECK (min_trees >= 50)

-- ุงูุชุฃูุฏ ูู ุงููุฏุฏ
CHECK (base_duration_years > 0 AND bonus_free_years >= 0)
```

#### RLS Policies

```sql
โ ุนุฑุถ ุนุงู ููุจุงูุงุช ุงูููุนูุฉ ููุท
โ ุงููุฏูุฑูู ููุท ูููููู ุงูุฅุถุงูุฉ/ุงูุชุนุฏูู/ุงูุญุฐู
```

---

### 2. Service Layer

#### ููู: `investmentPackagesService.ts`

```typescript
// ุฏูุงู CRUD ูุงููุฉ
โ getAllPackages()          // ุฌูุจ ูู ุงูุจุงูุงุช (ููุฅุฏุงุฑุฉ)
โ getActivePackages()       // ุฌูุจ ุงูุจุงูุงุช ุงูููุนูุฉ (ูููุณุชุฎุฏููู)
โ getPackageById()          // ุฌูุจ ุจุงูุฉ ูุนููุฉ
โ getPackagesByContractId() // ุฌูุจ ุจุงูุงุช ุญุณุจ ุงูุนูุฏ
โ createPackage()           // ุฅุถุงูุฉ ุจุงูุฉ ุฌุฏูุฏุฉ
โ updatePackage()           // ุชุนุฏูู ุจุงูุฉ
โ deletePackage()           // ุญุฐู ุจุงูุฉ
โ togglePackageStatus()     // ุชูุนูู/ุฅุฎูุงุก ุจุงูุฉ
```

---

### 3. ููุญุฉ ุงูุชุญูู - ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ

#### ููู: `InvestmentPackagesManager.tsx`

#### ุงูููุฒุงุช

```
โ ุนุฑุถ ุฌููุน ุงูุจุงูุงุช (cards ูููุฒุฉ)
โ ุฅุถุงูุฉ ุจุงูุฉ ุฌุฏูุฏุฉ (ูููุฐุฌ ูุงูู)
โ ุชุนุฏูู ุจุงูุฉ ููุฌูุฏุฉ
โ ุญุฐู ุจุงูุฉ (ูุน ุชุฃููุฏ)
โ ุชูุนูู/ุฅุฎูุงุก ุจุงูุฉ ุจุฒุฑ ูุงุญุฏ
โ ุนุฑุถ ูุนูููุงุช ุงูุจุงูุฉ (ูุฏุฉุ ุณุนุฑุ ููุงุนุฏ...)
โ ุฑุณุงุฆู ุฎุทุฃ ููุฌุงุญ
โ ุชุตููู responsive (ููุจุงูู + ุฏูุณูุชูุจ)
```

#### ูููุฐุฌ ุงูุฅุถุงูุฉ/ุงูุชุนุฏูู

ูุญุชูู ุนูู **5 ุฃูุณุงู ุฑุฆูุณูุฉ**:

##### 1. ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ (ุฎูููุฉ ุฒุฑูุงุก)

```
- ุงุณู ุงูุจุงูุฉ (ุงุณู ุงูุนูุฏ)
- ุณุนุฑ ุงูุดุฌุฑุฉ ุงููุงุญุฏุฉ
- ูุฏุฉ ุงูุงุณุชุซูุงุฑ ุงูุฃุณุงุณูุฉ
- ุณููุงุช ุฅุถุงููุฉ ูุฌุงููุฉ
- Contract ID
- ุงููุต ุงูุชุญููุฒู
```

##### 2. ููุงุนุฏ ุนุฏุฏ ุงูุฃุดุฌุงุฑ (ุฎูููุฉ ุนูุจุฑูุฉ)

```
- ุงูุญุฏ ุงูุฃุฏูู ููุฃุดุฌุงุฑ (50)
- ูุถุงุนูุงุช ุงูุฃุดุฌุงุฑ (50)
- ุฃุฒุฑุงุฑ ุงูุงุฎุชูุงุฑ ุงูุณุฑูุน
- ุนุฑุถ ุงูููุงุนุฏ ุงููุทุจูุฉ
```

##### 3. ูุถููู ุงูุจุงูุฉ ุงูุงุณุชุซูุงุฑูุฉ (ุฎูููุฉ ุฎุถุฑุงุก)

```
- ุชุนุฑูู ุงูุจุงูุฉ
- ุนููุงู ูุฏุฉ ุงูุงุณุชุซูุงุฑ
- ุญููู ุงููุณุชุซูุฑ (textarea - ุณุทุฑ ููู ุญู)
- ุขููุฉ ุงูุฅุฏุงุฑุฉ
- ูุนูููุงุช ุงูุนุงุฆุฏ
- ุงูุชูููู ูุงูุฅุฎูุงุก
- ูุต ุฒุฑ ุงูุฅุฌุฑุงุก
```

##### 4. ุฅุนุฏุงุฏุงุช ุงูุนุฑุถ (ุฎูููุฉ ุฑูุงุฏูุฉ)

```
- ุชุฑุชูุจ ุงูุธููุฑ (number)
- ุญุงูุฉ ุงูุจุงูุฉ (radio: ููุนูุฉ / ูุฎููุฉ)
```

##### 5. ููุงุญุธุงุช ูููุฉ (ุฎูููุฉ ุฒุฑูุงุก)

```
ุชุฐููุฑ ุจุทุจูุนุฉ ุงูุจุงูุฉ:
โ ุนูุฏ ุงุณุชุซูุงุฑ
โ ุงูุญุฏ ุงูุฃุฏูู: 50 ุดุฌุฑุฉ
โ ูุถุงุนูุงุช 50 ููุท
โ ุญููู ูุงููุฉ
โ ุฅุฏุงุฑุฉ ูู ุงูููุตุฉ
```

---

### 4. ุฏูุฌ ูุน ุงููุณู ุงูุงุณุชุซูุงุฑู

#### ููู: `InvestmentSection.tsx`

```typescript
// ุงูุชุจููุจุงุช
- ุฅุฏุงุฑุฉ ุงูุจุงูุงุช โ ุชู ุชูุนูููุง โ
- ูุชุงุจุนุฉ ุฃุดุฌุงุฑู โ ููุฏ ุงูุชุทููุฑ
- ุงูุนูุงุฆุฏ โ ููุฏ ุงูุชุทููุฑ
- ุงููุณุชุซูุฑูู โ ููุฏ ุงูุชุทููุฑ
- ุงูุชุญูููุงุช โ ููุฏ ุงูุชุทููุฑ
```

**ุงููุตูู**: ูู ููุญุฉ ุงูุชุญูู โ ุงุณุชุซูุงุฑู โ ุฅุฏุงุฑุฉ ุงูุจุงูุงุช

---

## ูุงุฌูุฉ ุงููุณุชุฎุฏู - ุจุทุงูุงุช ุงูุจุงูุงุช

### ูู ุตูุญุฉ ุงููุงุฆูุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ุนูุฏ ุงุณุชุซูุงุฑ 4 ุณููุงุช          [ููุนูุฉ]  โ
โ  397 ุฑูุงู                                โ
โ  ููุดุฌุฑุฉ ุงููุงุญุฏุฉ                         โ
โ                                          โ
โ  ูุฏุฉ ุงูุงุณุชุซูุงุฑ  โ  ุณููุงุช ูุฌุงููุฉ        โ
โ     4 ุณููุงุช      โ    +0 ุณููุงุช          โ
โ                                          โ
โ  ููุงุนุฏ ุนุฏุฏ ุงูุฃุดุฌุงุฑ:                     โ
โ  ุงูุญุฏ ุงูุฃุฏูู: 50  โ ุงููุถุงุนูุงุช: 50      โ
โ  ุฎูุงุฑุงุช ุณุฑูุนุฉ: 4                        โ
โ                                          โ
โ  ุฃูุถู ุนุงุฆุฏ ุงุณุชุซูุงุฑู ูุน ุถูุงู ุงูุฅุฏุงุฑุฉ     โ
โ                                          โ
โ  ูุฐู ุงูุจุงูุฉ ุชูุซู ุนูุฏ ุงุณุชุซูุงุฑ...        โ
โ                                          โ
โ  ุญููู: 5  โ ุงูุฅุฏุงุฑุฉ: ุงูููุตุฉ  โ ุชุฑุชูุจ: 1โ
โ                                          โ
โ  [ุชุนุฏูู]  [ุฅุฎูุงุก]  [๐๏ธ]                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ุงูุงุฎุชุจุงุฑ ูุงูุชุฌุฑุจุฉ

### ุงููุตูู ูููุธุงู

1. **ุชุณุฌูู ุงูุฏุฎูู ููุฏูุฑ**
   ```
   Email: admin@dev.com
   Password: Admin@2026
   ```

2. **ุงูุฐูุงุจ ูููุณู ุงูุงุณุชุซูุงุฑู**
   ```
   ููุญุฉ ุงูุชุญูู โ ุงุณุชุซูุงุฑู โ ุฅุฏุงุฑุฉ ุงูุจุงูุงุช
   ```

3. **ุงูุชุฌุฑุจุฉ**
   ```
   โ ุนุฑุถ ุงูุจุงูุงุช ุงูููุฌูุฏุฉ
   โ ุฅุถุงูุฉ ุจุงูุฉ ุฌุฏูุฏุฉ
   โ ุชุนุฏูู ุจุงูุฉ
   โ ุชูุนูู/ุฅุฎูุงุก ุจุงูุฉ
   โ ุญุฐู ุจุงูุฉ
   โ ุงุฎุชุจุงุฑ ูููุฏ ููุงุนุฏ ุงูุฃุดุฌุงุฑ
   ```

---

## ุงูุจุงูุงุช ุงูููุซุจุชุฉ ูุณุจูุงู

### ุชุญุฏูุซ ุชููุงุฆู ููุจุงูุงุช ุงูููุฌูุฏุฉ

```yaml
ุฌููุน ุงูุจุงูุงุช ุงูููุฌูุฏุฉ ุญุตูุช ุนูู:
  base_duration_years: 4
  bonus_free_years: 0
  min_trees: 50
  tree_increment: 50
  quick_select_options: [100, 200, 500, 1000]
```

---

## ุงููุฑู ุจูู ุงูุจุงูุงุช ุงูุฒุฑุงุนูุฉ ูุงูุงุณุชุซูุงุฑูุฉ

### ุจุงูุงุช ูุญุตููู ุงูุฒุฑุงุนู

```yaml
ุงููุฏู: ุงูุชูุงุน ุดุฎุตู
ุงูุนุงุฆุฏ: โ ูุง ุนูุงุฆุฏ ูุงููุฉ
ุงููุฎููุงุช: โ ูุง ูุฎููุงุช
ุงูุญููู: ุงุณุชูุงู ุงููุญุตูู ููุงุณุชุฎุฏุงู ุงูุดุฎุตู
ุงูุญุฏ ุงูุฃุฏูู: ูุง ููุฌุฏ (ูููู ุดุฌุฑุฉ ูุงุญุฏุฉ)
```

### ุจุงูุงุช ูุญุตููู ุงูุงุณุชุซูุงุฑู

```yaml
ุงููุฏู: ุงุณุชุซูุงุฑ ุชุฌุงุฑู
ุงูุนุงุฆุฏ: โ ุนูุงุฆุฏ ูุงููุฉ ูุชููุนุฉ
ุงููุฎููุงุช: โ ุฌููุน ุงููุฎููุงุช + ุจูุนูุง
ุงูุญููู: ุงูุซูุงุฑ + ุงูุฒููุช + ูู ุงููุฎููุงุช
ุงูุญุฏ ุงูุฃุฏูู: 50 ุดุฌุฑุฉ
ุงููุถุงุนูุงุช: 50 ููุท
```

---

## ุงูุชุทุจููุงุช ุงููุณุชูุจููุฉ

### ุฑุจุท ูุน ุตูุญุฉ ุงููุฒุฑุนุฉ ุงูุงุณุชุซูุงุฑูุฉ

```typescript
// ูู InvestmentFarmPage.tsx
const packages = await investmentPackagesService.getActivePackages();

// ุนุฑุถ ุงูุจุงูุงุช ูู slider
packages.map(pkg => (
  <InvestmentPackageCard
    name={pkg.package_name}
    price={pkg.price_per_tree}
    duration={pkg.base_duration_years}
    bonusYears={pkg.bonus_free_years}
    minTrees={pkg.min_trees}
    treeIncrement={pkg.tree_increment}
    quickOptions={pkg.quick_select_options}
    rights={pkg.investor_rights}
    ...
  />
))
```

### ุงุฎุชูุงุฑ ุนุฏุฏ ุงูุฃุดุฌุงุฑ

```typescript
// Tree selector component
const TreeSelector = ({ minTrees, treeIncrement, quickOptions }) => {
  const [count, setCount] = useState(minTrees);

  // Validation
  const isValid = count >= minTrees && count % treeIncrement === 0;

  return (
    <div>
      {/* Quick buttons */}
      {quickOptions.map(option => (
        <button onClick={() => setCount(option)}>
          {option}
        </button>
      ))}

      {/* Custom input */}
      <input
        type="number"
        value={count}
        onChange={(e) => setCount(parseInt(e.target.value))}
        min={minTrees}
        step={treeIncrement}
      />

      {!isValid && (
        <p>ูุฌุจ ุฃู ูููู ุงูุนุฏุฏ โฅ{minTrees} ููู ูุถุงุนูุงุช {treeIncrement}</p>
      )}
    </div>
  );
};
```

---

## ุงููููุงุช ุงููุนููุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช

```
โ supabase/migrations/20260202082406_create_investment_packages_system.sql
โ supabase/migrations/add_investment_package_duration_and_trees_rules.sql
โ supabase/migrations/update_existing_investment_packages_with_defaults.sql
```

### Services

```
โ src/services/investmentPackagesService.ts
```

### Components

```
โ src/components/admin/InvestmentPackagesManager.tsx
โ src/components/admin/InvestmentSection.tsx
```

---

## ุญุงูุฉ ุงููุฑุญูุฉ

### ูุงุชุฌ ุงููุฑุญูุฉ ุงูุซุงููุฉ โ

```
โ ูุธุงู ุฅุฏุงุฑุฉ ุจุงูุงุช ุงุณุชุซูุงุฑูุฉ ูุงูู
โ ููุงุนุฏ ุนุฏุฏ ุงูุฃุดุฌุงุฑ ููุถุจุทุฉ (50 ููุถุงุนูุงุชูุง)
โ ุญููู ุงููุณุชุซูุฑ ูุงุถุญุฉ ูุดุงููุฉ
โ ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ูุชูุงูู
โ ุนุฑุถ ุงุญุชุฑุงูู ููุจุงูุงุช
โ ุชูุนูู/ุฅุฎูุงุก ุจุฒุฑ ูุงุญุฏ
โ ุฃูุงู ูุญูู (RLS)
โ ูููุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช (constraints)
โ ุฌุงูุฒ ููุฑุจุท ูุน ุตูุญุฉ ุงููุฒุฑุนุฉ
```

---

## ุงูููุฒุงุช ุงูุฅุถุงููุฉ

### 1. ุงูุชุญูู ูู ุงูุจูุงูุงุช

```typescript
โ ุญููู ุฅูุฒุงููุฉ (required)
โ ุฃุฑูุงู ููุฌุจุฉ ููุณุนุฑ ูุงููุฏุฉ
โ ุงูุญุฏ ุงูุฃุฏูู ููุฃุดุฌุงุฑ โฅ 50
โ ุงููุถุงุนูุงุช ุตุญูุญุฉ
โ ุชูุณูู ุงููุตูุต ุจุณุทุฑ ุฌุฏูุฏ
โ ุญูุธ ุงูููุงุฆู ูู arrays
```

### 2. ูููุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
โ CHECK (min_trees >= 50)
โ CHECK (tree_increment > 0 AND tree_increment <= min_trees)
โ CHECK (base_duration_years > 0 AND bonus_free_years >= 0)
```

### 3. ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

```
โ ูููุฐุฌ ุณูู ุงูุงุณุชุฎุฏุงู
โ ุชุตููู ูุงุถุญ ุจุงูุฃููุงู
โ ุนุฑุถ ุงูููุงุนุฏ ุงููุทุจูุฉ
โ ุฒุฑ ุฅูุบุงุก ููุนูุฏุฉ
โ ุฑุณุงุฆู ูุฌุงุญ/ูุดู
โ ุชุตููู responsive
```

### 4. ุงูุฃูุงู

```
โ RLS policies ูุญููุฉ
โ ุงููุฏูุฑูู ููุท ูููููู ุงูุชุนุฏูู
โ ุงูุนุงูุฉ ุชุดุงูุฏ ุงูุจุงูุงุช ุงูููุนูุฉ ููุท
โ ุญูุงูุฉ ูู ุงูุญุฐู ุงูุนุฑุถู (confirmation)
โ ูููุฏ ุนูู ูุณุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

---

## ุงูููุงุฑูุฉ: ูุจู ูุจุนุฏ

### ูุจู ุงููุฑุญูุฉ ุงูุซุงููุฉ โ

```
- ูุง ุชูุฌุฏ ููุงุนุฏ ูุนุฏุฏ ุงูุฃุดุฌุงุฑ
- ูุง ููุฌุฏ ุญุฏ ุฃุฏูู
- ูุง ุชูุฌุฏ ูุถุงุนูุงุช
- ูุง ุชูุฌุฏ ุฃุฒุฑุงุฑ ุณุฑูุนุฉ
- ูุง ุชูุฌุฏ ูุงุฌูุฉ ุฅุฏุงุฑุฉ
- ุงูุจูุงูุงุช ูุงูุตุฉ
```

### ุจุนุฏ ุงููุฑุญูุฉ ุงูุซุงููุฉ โ

```
โ ููุงุนุฏ ูุงุถุญุฉ: 50 ููุถุงุนูุงุชูุง
โ ุญุฏ ุฃุฏูู ูุญุฏุฏ: 50 ุดุฌุฑุฉ
โ ูุถุงุนูุงุช ุฅูุฒุงููุฉ: 50
โ ุฃุฒุฑุงุฑ ุณุฑูุนุฉ ูุงุจูุฉ ููุชุฎุตูุต
โ ูุงุฌูุฉ ุฅุฏุงุฑุฉ ูุงููุฉ
โ ุจูุงูุงุช ุดุงููุฉ ูููุธูุฉ
โ ูููุฏ ุนูู ูุณุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ ุญููู ุงููุณุชุซูุฑ ูุงุถุญุฉ
โ ุฌุงูุฒ ููุฑุจุท ูุน ุงููุงุฌูุฉ
```

---

## ุงูุฎูุงุตุฉ

### ูุง ุชู ุฅูุฌุงุฒู

```
โ ุงููุฑุญูุฉ ุงูุฃููู: ุจุงูุงุช ูุญุตููู ุงูุฒุฑุงุนู
โ ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุจุงูุงุช ูุญุตููู ุงูุงุณุชุซูุงุฑู
```

### ุงูุฎุทูุฉ ุงูุชุงููุฉ

```
โณ ุฑุจุท ุจุงูุงุช ุงูุฒุฑุงุนู ูุน ุตูุญุฉ ุงููุฒุฑุนุฉ ุงูุฒุฑุงุนูุฉ
โณ ุฑุจุท ุจุงูุงุช ุงูุงุณุชุซูุงุฑู ูุน ุตูุญุฉ ุงููุฒุฑุนุฉ ุงูุงุณุชุซูุงุฑูุฉ
โณ ุชูุนูู ูุณุงุฑ ุงูุฏูุน ูุงูุญุฌุฒ
โณ ุฅูุดุงุก ุงูุนููุฏ ุชููุงุฆูุงู
```

---

**ุชุงุฑูุฎ ุงูุฅููุงู:** 2026-02-02
**ุงูุญุงูุฉ:** ููุชูู โ
**Build:** ูุงุฌุญ โ
**ุงููุฑุงุญู ุงูููุชููุฉ:** 1/2 โ 2/2 โ
**ุงูุฎุทูุฉ ุงูุชุงููุฉ:** ุงูุฑุจุท ูุน ูุงุฌูุฉ ุงููุณุชุฎุฏู
