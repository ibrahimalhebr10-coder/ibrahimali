# ุงููุฑุญูุฉ ุงูุซุงูุซุฉ: ุฑุจุท ยซูุฒุฑุนุชูยป ูุน ุฒุฑ ูุฒุฑุนุชู ูู ุงููุงุฌูุฉ โ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฑุจุท ูุงุฌูุฉ ุงููุณุชุฎุฏู "ูุฒุฑุนุชู ุงูุงุณุชุซูุงุฑูุฉ" ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญููููุฉ ุจูุฌุงุญุ ูุน:
- โ ุฅุฒุงูุฉ ุฌููุน ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ
- โ ุฑุจุท ูุงูู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุนุฑุถ ุงูุจูุงูุงุช ุงูุญููููุฉ ูููุณุชุซูุฑูู
- โ ุญุณุงุจ ุฏููุงูููู ูุญุงูุฉ ุงูุนููุฏ
- โ ุชุฌุฑุจุฉ ุณูุณุฉ ููุฒูุงุฑ ูุงููุณุชุซูุฑูู

---

## ๐ฏ ูุง ุชู ุชูููุฐู

### 1๏ธโฃ ุฅูุดุงุก Service ูุชุฎุตุต โ

**ููู ุฌุฏูุฏ:** `src/services/investorMyFarmService.ts`

**ุงููุธุงุฆู:**

```typescript
interface InvestorMyFarmData {
  assets: InvestorAsset[];              // ุฃุตูู ุงููุณุชุซูุฑ
  totalTrees: number;                   // ุฅุฌูุงูู ุงูุฃุดุฌุงุฑ
  contracts: InvestorContract[];        // ุงูุนููุฏ
  productYields: ProductYield[];        // ุนูุงุฆุฏ ุงูููุชุฌุงุช
  wasteYields: WasteYield[];            // ุนูุงุฆุฏ ุงููุฎููุงุช
  expansionOpportunities: ExpansionOpportunity[];  // ูุฑุต ุงูุชูุณุน
}
```

**ุงูููุฒุงุช:**

1. **ุฌูุจ ุงูุฃุตูู ุงูุฒุฑุงุนูุฉ:**
   ```typescript
   getAssets(userProfileId)
     โ investment_agricultural_assets
     โ ุชุฌููุน ุญุณุจ ููุน ุงูุดุฌุฑุฉ
   ```

2. **ุฌูุจ ุงูุนููุฏ ุงููุดุทุฉ:**
   ```typescript
   getContracts(userProfileId)
     โ reservations (status: active/confirmed)
     โ ูุน ุจูุงูุงุช ุงููุฒุฑุนุฉ
   ```

3. **ุญุณุงุจ ุชูุฏู ุงูุนูุฏ:**
   ```typescript
   calculateContractProgress(contract) โ {
     currentYear: 1-5,
     totalYears: 5,
     remainingYears: 4,
     remainingMonths: 8,
     progressPercentage: 20%
   }
   ```

4. **ุฌูุจ ุนูุงุฆุฏ ุงูููุชุฌุงุช:**
   ```typescript
   getProductYields(userProfileId)
     โ investment_products_yields
     โ ุขุฎุฑ 10 ููุชุฌุงุช
   ```

5. **ุฌูุจ ุนูุงุฆุฏ ุงููุฎููุงุช:**
   ```typescript
   getWasteYields(userProfileId)
     โ investment_waste_yields
     โ ุขุฎุฑ 10 ูุฎููุงุช
   ```

6. **ุฌูุจ ูุฑุต ุงูุชูุณุน:**
   ```typescript
   getExpansionOpportunities(userProfileId)
     โ investment_expansion_opportunities
     โ ุงููุฑุต ุงููุดุทุฉ ููุท
   ```

7. **ุชุฌููุน ุงูุฃุตูู ุญุณุจ ุงูููุน:**
   ```typescript
   groupAssetsByType(assets) โ {
     'ุฒูุชูู': 50,
     'ููุฒ': 30,
     'ุชูู': 20
   }
   ```

### 2๏ธโฃ ุชุญุฏูุซ ุงููููู ุงูุฑุฆูุณู โ

**ููู ูุญุฏูุซ:** `src/components/InvestmentMyFarm.tsx`

**ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ:**

#### ุฃ. ุฅุถุงูุฉ ุญุงูุงุช ุฌุฏูุฏุฉ

```typescript
const [loading, setLoading] = useState(true);
const [farmData, setFarmData] = useState<InvestorMyFarmData | null>(null);
```

#### ุจ. ุชุญููู ุงูุจูุงูุงุช ุนูุฏ ุงูุชุดุบูู

```typescript
useEffect(() => {
  if (user) {
    loadFarmData();
  }
}, [user]);

const loadFarmData = async () => {
  const data = await investorMyFarmService.getInvestorFarmData(user.id);
  setFarmData(data);
};
```

#### ุฌ. ุซูุงุซ ุญุงูุงุช ููุนุฑุถ

```typescript
1. Loading State: ุดุงุดุฉ ุชุญููู
   โโ ุฃููููุฉ ุฏูุงุฑุฉ + ูุต "ุฌุงุฑู ุชุญููู ูุฒุฑุนุชู..."

2. Empty State: ูุง ุงุณุชุซูุงุฑุงุช
   โโ ุฑุณุงูุฉ + ุฒุฑ "ุงุจุฏุฃ ุงูุงุณุชุซูุงุฑ ุงูุขู"

3. Data State: ุนุฑุถ ุงูุจูุงูุงุช
   โโ ุฌููุน ุงูุฃูุณุงู ูุน ุงูุจูุงูุงุช ุงูุญููููุฉ
```

#### ุฏ. ุนุฑุถ ุฏููุงูููู ููุจูุงูุงุช

**ุงูุฃุตูู ุงูุฒุฑุงุนูุฉ:**
```typescript
// ููุฒูุงุฑ: ุจูุงูุงุช ุซุงุจุชุฉ ููุชูุถูุญ
isVisitor ? staticAssets : realAssets

// ูููุณุชุซูุฑูู: ุจูุงูุงุช ุญููููุฉ
Object.entries(assetsByType).map(([type, count]) => ...)
```

**ูุจุถ ุงูุงุณุชุซูุงุฑ:**
```typescript
const contractProgress = calculateContractProgress(activeContract);

// ุงููุฑุงุญู:
- ููู (ุณูุฉ 1)
- ูุคุณุณุฉ (ุณูุฉ 2)
- ุญุตุงุฏ (ุณูุฉ 3-4)
- ุงูุชูุงุฒ (ุณูุฉ 5+)
```

**ุนูุงุฆุฏ ุงูููุชุฌุงุช:**
```typescript
// ุฅุฐุง ูุง ุชูุฌุฏ ุจูุงูุงุช: placeholder
// ุฅุฐุง ุชูุฌุฏ ุจูุงูุงุช: ุนุฑุถ ุญูููู
farmData.productYields.map(product => ...)
```

**ุนูุงุฆุฏ ุงููุฎููุงุช:**
```typescript
// ุฅุฐุง ูุง ุชูุฌุฏ ุจูุงูุงุช: placeholder
// ุฅุฐุง ุชูุฌุฏ ุจูุงูุงุช: ุนุฑุถ ุญูููู
farmData.wasteYields.map(waste => ...)
```

**ูุฑุต ุงูุชูุณุน:**
```typescript
// ุฅุฐุง ูุง ุชูุฌุฏ ุจูุงูุงุช: placeholder
// ุฅุฐุง ุชูุฌุฏ ุจูุงูุงุช: ุนุฑุถ ุญูููู
farmData.expansionOpportunities.map(opportunity => ...)
```

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

### ุชุฏูู ุงูุจูุงูุงุช ุงููุงูู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                ุงููุณุชุฎุฏู ููุชุญ "ูุฒุฑุนุชู"                   โ
โโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                      โ
                      โผ
         โโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ   ูู ุงููุณุชุฎุฏู ูุณุฌูุ   โ
         โโโโโโโโโโฌโโโโโโโโโโโโโโโโ
                  โ
        โโโโโโโโโโโดโโโโโโโโโโ
        โ                   โ
        โผ                   โผ
    โโโโโโโโ          โโโโโโโโโโโโ
    โ ูุง   โ          โ  ูุนู     โ
    โโโโฌโโโโ          โโโโโโฌโโโโโโ
       โ                   โ
       โผ                   โผ
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ
โ ุนุฑุถ ุจูุงูุงุช โ    โ ุฌูุจ auth_user_id โ
โ ุชูุถูุญูุฉ    โ    โโโโโโโโโโฌโโโโโโโโโโ
โ (Demo)      โ             โ
โโโโโโโโโโโโโโโ             โผ
                  โโโโโโโโโโโโโโโโโโโโโโโโ
                  โ user_profiles.id     โ
                  โโโโโโโโโโโโฌโโโโโโโโโโโโ
                             โ
           โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโ
           โ                 โ                 โ
           โผ                 โผ                 โผ
    โโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโ   โโโโโโโโโโโโโโ
    โ   Assets    โ   โ Contracts  โ   โ  Products  โ
    โ             โ   โ            โ   โ            โ
    โ investment_ โ   โreservation โ   โinvestment_ โ
    โ agricul...  โ   โs           โ   โproducts... โ
    โโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโ   โโโโโโโโโโโโโโ
           โ                 โ                 โ
           โ                 โผ                 โ
           โ          โโโโโโโโโโโโโโ           โ
           โ          โ   Waste    โ           โ
           โ          โ            โ           โ
           โ          โinvestment_ โ           โ
           โ          โwaste...    โ           โ
           โ          โโโโโโโโโโโโโโ           โ
           โ                 โ                 โ
           โ                 โผ                 โ
           โ          โโโโโโโโโโโโโโ           โ
           โ          โ Expansion  โ           โ
           โ          โ            โ           โ
           โ          โinvestment_ โ           โ
           โ          โexpansion...โ           โ
           โ          โโโโโโโโโโโโโโ           โ
           โ                 โ                 โ
           โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโ
                             โ
                             โผ
                  โโโโโโโโโโโโโโโโโโโโโโโโ
                  โ ุชุฌููุน ุงูุจูุงูุงุช       โ
                  โ InvestorMyFarmData   โ
                  โโโโโโโโโโโโฌโโโโโโโโโโโโ
                             โ
                             โผ
                  โโโโโโโโโโโโโโโโโโโโโโโโ
                  โ ุญุณุงุจุงุช ุฅุถุงููุฉ:      โ
                  โ - ุชุฌููุน ุงูุฃุตูู      โ
                  โ - ุญุณุงุจ ุงูุชูุฏู       โ
                  โ - ุชุญุฏูุฏ ุงููุฑุงุญู     โ
                  โโโโโโโโโโโโฌโโโโโโโโโโโโ
                             โ
                             โผ
                  โโโโโโโโโโโโโโโโโโโโโโโโ
                  โ  ุนุฑุถ ูู ุงููุงุฌูุฉ     โ
                  โ  InvestmentMyFarm    โ
                  โโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุญุณุงุจ ุชูุฏู ุงูุนูุฏ

```typescript
function calculateContractProgress(contract) {
  const startDate = new Date(contract.contract_start_date);
  const now = new Date();
  const durationYears = contract.contract_duration_years;

  // 1. ุญุณุงุจ ุชุงุฑูุฎ ุงูุงูุชูุงุก
  const endDate = new Date(startDate);
  endDate.setFullYear(startDate.getFullYear() + durationYears);

  // 2. ุญุณุงุจ ุงูุฃูุงู
  const totalDays = (endDate - startDate) / (1000 * 60 * 60 * 24);
  const elapsedDays = (now - startDate) / (1000 * 60 * 60 * 24);
  const remainingDays = totalDays - elapsedDays;

  // 3. ุญุณุงุจ ุงูุณููุงุช ูุงูุฃุดูุฑ
  const currentYear = Math.floor(elapsedDays / 365) + 1;
  const remainingYears = Math.floor(remainingDays / 365);
  const remainingMonths = Math.floor((remainingDays % 365) / 30);

  // 4. ุญุณุงุจ ุงููุณุจุฉ ุงููุฆููุฉ
  const progressPercentage = (elapsedDays / totalDays) * 100;

  return {
    currentYear: Math.min(currentYear, durationYears),
    totalYears: durationYears,
    remainingYears,
    remainingMonths,
    progressPercentage: Math.min(progressPercentage, 100)
  };
}
```

### ูุฑุงุญู ุงูุนูุฏ

```typescript
const phases = [
  {
    label: 'ููู',
    emoji: '๐ฑ',
    isActive: currentYear === 1,
    description: 'ุงูุฃุดุฌุงุฑ ูู ุทูุฑ ุงูููู ุงูุฃููู'
  },
  {
    label: 'ูุคุณุณุฉ',
    emoji: '๐ฟ',
    isActive: currentYear === 2,
    description: 'ุชุฃุณูุณ ุงูุฌุฐูุฑ ูุงูุจููุฉ'
  },
  {
    label: 'ุญุตุงุฏ',
    emoji: '๐พ',
    isActive: currentYear >= 3 && currentYear <= 4,
    description: 'ุจุฏุงูุฉ ุงูุฅูุชุงุฌ ูุงูุญุตุงุฏ'
  },
  {
    label: 'ุงูุชูุงุฒ',
    emoji: '๐ต',
    isActive: currentYear >= 5,
    description: 'ุฐุฑูุฉ ุงูุฅูุชุงุฌูุฉ'
  }
];
```

---

## ๐ ุฃูุซูุฉ ูุงูุนูุฉ

### ูุซุงู 1: ูุณุชุซูุฑ ุฌุฏูุฏ (ุณูุฉ 1)

```
ุงููุณุชุซูุฑ: ุฃุญูุฏ
ุชุงุฑูุฎ ุจุฏุก ุงูุนูุฏ: 2026-01-01
ุงููุฏุฉ: 5 ุณููุงุช

ุงูุญุณุงุจุงุช:
  - ุงูููู: 2026-02-04
  - ุงูุฃูุงู ุงููููุถูุฉ: 34 ููู
  - ุงูุณูุฉ ุงูุญุงููุฉ: 1
  - ุงููุชุจูู: 4 ุณููุงุช ู 11 ุดูุฑ
  - ุงูุชูุฏู: 1.9%

ุงููุฑุญูุฉ ุงููุดุทุฉ: ๐ฑ ููู

ุงูุฃุตูู:
  - 50 ุดุฌุฑุฉ ุฒูุชูู
  - 30 ุดุฌุฑุฉ ููุฒ
  - ุฅุฌูุงูู: 80 ุดุฌุฑุฉ

ุงูุนูุงุฆุฏ:
  - ุงูููุชุฌุงุช: ูุง ุชูุฌุฏ ุจุนุฏ (placeholder)
  - ุงููุฎููุงุช: ูุง ุชูุฌุฏ ุจุนุฏ (placeholder)
```

### ูุซุงู 2: ูุณุชุซูุฑ ูุชูุฏู (ุณูุฉ 3)

```
ุงููุณุชุซูุฑ: ูุงุทูุฉ
ุชุงุฑูุฎ ุจุฏุก ุงูุนูุฏ: 2024-02-01
ุงููุฏุฉ: 5 ุณููุงุช

ุงูุญุณุงุจุงุช:
  - ุงูููู: 2026-02-04
  - ุงูุฃูุงู ุงููููุถูุฉ: 733 ููู
  - ุงูุณูุฉ ุงูุญุงููุฉ: 3
  - ุงููุชุจูู: 2 ุณูุฉ ู 0 ุดูุฑ
  - ุงูุชูุฏู: 40.1%

ุงููุฑุญูุฉ ุงููุดุทุฉ: ๐พ ุญุตุงุฏ

ุงูุฃุตูู:
  - 100 ุดุฌุฑุฉ ุฒูุชูู
  - 50 ุดุฌุฑุฉ ุชูู
  - ุฅุฌูุงูู: 150 ุดุฌุฑุฉ

ุงูุนูุงุฆุฏ:
  - ุงูููุชุฌุงุช:
    * ุฒูุชูู: 500 ูุฌู (2025-11-15)
    * ุฒูุช ุฒูุชูู: 80 ูุชุฑ (2025-12-01)
  - ุงููุฎููุงุช:
    * ูุฎููุงุช ุชูููู: 200 ูุฌู (2025-10-20)
    * ุชูู ุนุตุฑ: 150 ูุฌู (2025-12-05)

ูุฑุต ุงูุชูุณุน:
  - ุฃุถู 50 ุดุฌุฑุฉ ุฒูุชูู: 25,000 ุฑูุงู
  - ุงุฏุฎู ูุฒุฑุนุฉ ุงูููุฒ: 50,000 ุฑูุงู
```

### ูุซุงู 3: ูุณุชุซูุฑ ูุชุนุฏุฏ ุงููุฒุงุฑุน

```
ุงููุณุชุซูุฑ: ุฎุงูุฏ
ุชุงุฑูุฎ ุจุฏุก ุงูุนูุฏ: 2023-06-01
ุงููุฏุฉ: 7 ุณููุงุช

ุงูุญุณุงุจุงุช:
  - ุงูููู: 2026-02-04
  - ุงูุฃูุงู ุงููููุถูุฉ: 978 ููู
  - ุงูุณูุฉ ุงูุญุงููุฉ: 3
  - ุงููุชุจูู: 4 ุณููุงุช ู 4 ุฃุดูุฑ
  - ุงูุชูุฏู: 38.2%

ุงููุฑุญูุฉ ุงููุดุทุฉ: ๐พ ุญุตุงุฏ

ุงูุฃุตูู (3 ูุฒุงุฑุน):
  ูุฒุฑุนุฉ ุงูุณูุงู:
    - 80 ุดุฌุฑุฉ ุฒูุชูู
  ูุฒุฑุนุฉ ุงูููุฑ:
    - 120 ุดุฌุฑุฉ ููุฒ
  ูุฒุฑุนุฉ ุงูุฃูู:
    - 60 ุดุฌุฑุฉ ุฑูุงู

  ุฅุฌูุงูู: 260 ุดุฌุฑุฉ

ุงูุนูุงุฆุฏ:
  - ุงูููุชุฌุงุช: 8 ุนูุงุฆุฏ ูุณุฌูุฉ
  - ุงููุฎููุงุช: 5 ุนูุงุฆุฏ ูุณุฌูุฉ

ูุฑุต ุงูุชูุณุน:
  - ุชูุณุน ูู ูุฒุฑุนุฉ ุงูุณูุงู: 40,000 ุฑูุงู
  - ูุฒุฑุนุฉ ุฌุฏูุฏุฉ (ูุฎูู): 80,000 ุฑูุงู
  - ุชุฑููุฉ ุนูุฏ ูุฒุฑุนุฉ ุงูููุฑ: 15,000 ุฑูุงู
```

---

## ๐จ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

### ููุฒูุงุฑ (ุบูุฑ ูุณุฌููู)

```
1. ููุชุญูู "ูุฒุฑุนุชู ุงูุงุณุชุซูุงุฑูุฉ"
2. ูุฑูู ุจูุงูุงุช ุชูุถูุญูุฉ (Demo):
   - 100 ุดุฌุฑุฉ (50 ุฒูุชููุ 30 ููุฒุ 20 ุชูู)
   - ูุจุถ ุงุณุชุซูุงุฑ (ุณูุฉ 1 ูู 5)
   - ุนูุงุฆุฏ placeholder
3. ุนูุฏ ุงูููุฑ ุนูู ุฃู ุนูุตุฑ:
   โ Overlay: "ุฃูุดุฆ ุญุณุงุจู ูุงุจุฏุฃ ุงุณุชุซูุงุฑู"
4. ุฒุฑุงู:
   - ุงุจุฏุฃ ุงูุงุณุชุซูุงุฑ โ ูุฐูุจ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ
   - ุฅูุดุงุก ุญุณุงุจ โ ูุบูู ุงูู Overlay
```

### ูููุณุชุฎุฏููู ุงููุณุฌููู ุจุฏูู ุงุณุชุซูุงุฑุงุช

```
1. ููุชุญูู "ูุฒุฑุนุชู ุงูุงุณุชุซูุงุฑูุฉ"
2. ุดุงุดุฉ ุชุญููู ูุซุงููุฉ ูุงุญุฏุฉ
3. Empty State:
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ         ๐ณ                     โ
   โ                                โ
   โ  ูุง ุชูุฌุฏ ุงุณุชุซูุงุฑุงุช ุญุงููุงู     โ
   โ                                โ
   โ  ุงุจุฏุฃ ุงุณุชุซูุงุฑู ุงูุฒุฑุงุนู ุงูุฃูู โ
   โ  ูุงุญุตู ุนูู ุฃุตูู ุญููููุฉ       โ
   โ                                โ
   โ  [ุงุจุฏุฃ ุงูุงุณุชุซูุงุฑ ุงูุขู]        โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ูููุณุชุซูุฑูู ุงููุนูููู

```
1. ููุชุญูู "ูุฒุฑุนุชู ุงูุงุณุชุซูุงุฑูุฉ"
2. ุดุงุดุฉ ุชุญููู (loading)
3. ุนุฑุถ ูุงูู:
   - ุฃุตููู ุงูุฒุฑุงุนูุฉ (ุจูุงูุงุช ุญููููุฉ)
   - ูุจุถ ุงูุงุณุชุซูุงุฑ (ุญุณุงุจ ุฏููุงูููู)
   - ุนูุงุฆุฏ ุงูุฅูุชุงุฌ (ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
   - ุนูุงุฆุฏ ุงููุฎููุงุช (ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
   - ูุฑุต ุงูุชูุณุนุฉ (ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
4. ูู ุดูุก ูุนูู ุจุดูู ุชูุงุนูู ูููุฑู
```

---

## ๐ ุงูุณููุงุฑูููุงุช ุงููุงูุนูุฉ

### ุณููุงุฑูู 1: ูุณุชุซูุฑ ูุดุชุฑู ุฃูู ุฃุดุฌุงุฑู

```
1. ุงูุฒุงุฆุฑ ูุชุตูุญ ุงูููุตุฉ
2. ูุฎุชุงุฑ ุจุงูุฉ: 50 ุดุฌุฑุฉ ุฒูุชูู
3. ูููู ุงูุญุฌุฒ ูุงูุฏูุน
4. status: confirmed

ุงููุชูุฌุฉ ูู "ูุฒุฑุนุชู":
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุฃุตููู ุงูุฒุฑุงุนูุฉ               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุฅุฌูุงูู ุงูุฃุดุฌุงุฑ: 50            โ
โ                                โ
โ โโโโโโโโโโโโโโโโโโโโโโโโ       โ
โ โ  ๐ฟ ุฒูุชูู           โ       โ
โ โ     50 ุดุฌุฑุฉ          โ       โ
โ โโโโโโโโโโโโโโโโโโโโโโโโ       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ูุจุถ ุงูุงุณุชุซูุงุฑ                 โ
โ ๐ฑ ููู - ุณูุฉ 1 ูู 5           โ
โ ุงููุชุจูู: 5 ุณููุงุช              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุณููุงุฑูู 2: ุฅุถุงูุฉ ุนูุงุฆุฏ ูู ุงูุฃุฏูู

```
ุงูุฃุฏูู ูุถูู:
  - ููุชุฌ: 200 ูุฌู ุฒูุชูู (2026-11-15)
  - ูุฎููุงุช: 50 ูุฌู ุชูููู (2026-10-01)

ุงููุชูุฌุฉ ูู "ูุฒุฑุนุชู" ูููุณุชุซูุฑ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุนูุงุฆุฏ ุงูุฅูุชุงุฌ                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ โ ุซูุงุฑ                    โ   โ
โ โ ุฒูุชูู                   โ   โ
โ โ 2026-11-15              โ   โ
โ โ 200 ูุฌู                 โ   โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุนูุงุฆุฏ ุงููุฎููุงุช                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ โ ูุฎููุงุช ุงูุชูููู          โ   โ
โ โ 2026-10-01              โ   โ
โ โ 50 ูุฌู                  โ   โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุณููุงุฑูู 3: ูุฑุตุฉ ุชูุณุน

```
ุงูุฃุฏูู ูุถูู ูุฑุตุฉ:
  - ุงูููุน: ุฅุถุงูุฉ ุฃุดุฌุงุฑ
  - ุงูุนููุงู: ุฃุถู 30 ุดุฌุฑุฉ ููุฒ
  - ุงููุตู: ูุฑุตุฉ ูุญุฏูุฏุฉ ููุชูุณุน
  - ุงูุงุณุชุซูุงุฑ: 15,000 ุฑูุงู
  - ุงูุฃุดุฌุงุฑ: 30

ุงููุชูุฌุฉ ูู "ูุฒุฑุนุชู" ูููุณุชุซูุฑ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ูุฑุต ุงูุชูุณุนุฉ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ โ โ ุฃุถู 30 ุดุฌุฑุฉ ููุฒ     โ   โ
โ โ ูุฑุตุฉ ูุญุฏูุฏุฉ ููุชูุณุน     โ   โ
โ โ 15,000 ุฑูุงู | 30 ุดุฌุฑุฉ  โ   โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ 1: ุฒุงุฆุฑ

```bash
1. ุงูุชุญ ุงููุชุตูุญ ุจุฏูู ุชุณุฌูู ุฏุฎูู
2. ุงุฐูุจ ุฅูู "ูุฒุฑุนุชู ุงูุงุณุชุซูุงุฑูุฉ"
3. โ ูุฌุจ ุฃู ุชุฑู:
   - ุจูุงูุงุช ุชูุถูุญูุฉ (100 ุดุฌุฑุฉ)
   - ุดุงุฑุฉ "ูุซุงู ุชูุถูุญู"
   - ุนูุฏ ุงูููุฑ: overlay
```

### ุงุฎุชุจุงุฑ 2: ูุณุชุฎุฏู ุจุฏูู ุงุณุชุซูุงุฑุงุช

```bash
1. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ุฌุฏูุฏ
2. ุงุฐูุจ ุฅูู "ูุฒุฑุนุชู ุงูุงุณุชุซูุงุฑูุฉ"
3. โ ูุฌุจ ุฃู ุชุฑู:
   - ุดุงุดุฉ ุชุญููู (loading)
   - Empty State
   - ุฒุฑ "ุงุจุฏุฃ ุงูุงุณุชุซูุงุฑ ุงูุขู"
```

### ุงุฎุชุจุงุฑ 3: ูุณุชุซูุฑ ุญูููู

```bash
1. ุณุฌู ุฏุฎูู ููุณุชุซูุฑ (ูุฏูู ุนููุฏ)
2. ุงุฐูุจ ุฅูู "ูุฒุฑุนุชู ุงูุงุณุชุซูุงุฑูุฉ"
3. โ ูุฌุจ ุฃู ุชุฑู:
   - ุดุงุดุฉ ุชุญููู
   - ุฃุตููู ุงูุญููููุฉ
   - ูุจุถ ุงูุงุณุชุซูุงุฑ ุจุงูุญุณุงุจุงุช ุงูุตุญูุญุฉ
   - ุนูุงุฆุฏู (ุฅู ูุฌุฏุช)
   - ูุฑุต ุงูุชูุณุน (ุฅู ูุฌุฏุช)
```

### ุงุฎุชุจุงุฑ 4: ุญุณุงุจ ุชูุฏู ุงูุนูุฏ

```javascript
// ูู Console ุงููุชุตูุญ:
const contract = {
  contract_start_date: '2026-01-01',
  contract_duration_years: 5
};

const progress = investorMyFarmService.calculateContractProgress(contract);
console.log(progress);

// โ ูุฌุจ ุฃู ูุนุฑุถ:
{
  currentYear: 1,
  totalYears: 5,
  remainingYears: 4,
  remainingMonths: 11,
  progressPercentage: 1.9
}
```

---

## ๐ฆ ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ

### ูููุงุช ุฌุฏูุฏุฉ
- โ `src/services/investorMyFarmService.ts`
  - ุฌูุจ ุจูุงูุงุช ุงููุณุชุซูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  - ุญุณุงุจ ุชูุฏู ุงูุนูุฏ
  - ุชุฌููุน ุงูุฃุตูู
  - ุฌููุน ุงูุนูููุงุช ุงููุชุนููุฉ ุจุจูุงูุงุช "ูุฒุฑุนุชู"

### ูููุงุช ูุนุฏูุฉ
- โ `src/components/InvestmentMyFarm.tsx`
  - ุฅุฒุงูุฉ ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ ุจุงููุงูู
  - ุฅุถุงูุฉ useEffect ูุชุญููู ุงูุจูุงูุงุช
  - ุฅุถุงูุฉ Loading State
  - ุฅุถุงูุฉ Empty State
  - ุฑุจุท ุฌููุน ุงูุฃูุณุงู ุจุงูุจูุงูุงุช ุงูุญููููุฉ
  - ุญุณุงุจ ุฏููุงูููู ููุจุถ ุงูุงุณุชุซูุงุฑ

---

## ๐ก ุงูููุฒุงุช ุงูุฐููุฉ

### 1. Fallback ููุจูุงูุงุช

```typescript
// ุฅุฐุง ูู ุชูู ููุงู ุจูุงูุงุชุ ุนุฑุถ placeholder
{isVisitor || data.length === 0 ? (
  <PlaceholderUI />
) : (
  <RealDataUI data={data} />
)}
```

### 2. ุญุณุงุจ ุชููุงุฆู ูููุฑุงุญู

```typescript
// ูุญุณุจ ุงููุฑุญูุฉ ุงููุดุทุฉ ุชููุงุฆููุง
const phases = [
  { label: 'ููู', isActive: currentYear === 1 },
  { label: 'ูุคุณุณุฉ', isActive: currentYear === 2 },
  { label: 'ุญุตุงุฏ', isActive: currentYear >= 3 && currentYear <= 4 },
  { label: 'ุงูุชูุงุฒ', isActive: currentYear >= 5 }
];
```

### 3. ุชุฌููุน ุฐูู ููุฃุตูู

```typescript
// ูุฌูุน ุงูุฃุตูู ุญุณุจ ุงูููุน ุชููุงุฆููุง
groupAssetsByType([
  { tree_type: 'ุฒูุชูู', quantity: 30 },
  { tree_type: 'ุฒูุชูู', quantity: 20 },
  { tree_type: 'ููุฒ', quantity: 50 }
])
// โ { 'ุฒูุชูู': 50, 'ููุฒ': 50 }
```

### 4. Loading State ุณูุณ

```typescript
if (loading) {
  return (
    <div className="min-h-screen flex items-center justify-center">
      <Loader className="animate-spin" />
      <p>ุฌุงุฑู ุชุญููู ูุฒุฑุนุชู...</p>
    </div>
  );
}
```

### 5. Empty State ูุงุถุญ

```typescript
if (assets.length === 0) {
  return (
    <EmptyState>
      <h2>ูุง ุชูุฌุฏ ุงุณุชุซูุงุฑุงุช ุญุงููุงู</h2>
      <p>ุงุจุฏุฃ ุงุณุชุซูุงุฑู ุงูุฒุฑุงุนู ุงูุฃูู</p>
      <Button>ุงุจุฏุฃ ุงูุงุณุชุซูุงุฑ ุงูุขู</Button>
    </EmptyState>
  );
}
```

---

## ๐ฏ ุงูุชุฃุซูุฑ

### ูุจู ุงููุฑุญูุฉ ุงูุซุงูุซุฉ

```
โ ุจูุงูุงุช ุซุงุจุชุฉ (fake data)
โ ููุณ ุงูุดูุก ููุฌููุน
โ ูุง ุฑุจุท ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
โ ูุง ุญุณุงุจุงุช ุญููููุฉ
โ ุชุฌุฑุจุฉ ุบูุฑ ูุงูุนูุฉ
```

### ุจุนุฏ ุงููุฑุญูุฉ ุงูุซุงูุซุฉ

```
โ ุจูุงูุงุช ุญููููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ ูุฎุตุตุฉ ููู ูุณุชุซูุฑ
โ ุฑุจุท ูุงูู ุจุฌููุน ุงูุฌุฏุงูู
โ ุญุณุงุจุงุช ุฏููุงููููุฉ ุฏูููุฉ
โ ุชุฌุฑุจุฉ ูุงูุนูุฉ ูููุซููุฉ
โ loading + empty states
โ fallback ููุจูุงูุงุช ุงููุงูุตุฉ
```

---

## ๐ ุงูุฃูุงู

### RLS ุชููุงุฆู

ุฌููุน ุงูุงุณุชุนูุงูุงุช ูุญููุฉ ุจู RLS:

```sql
-- investment_agricultural_assets
CREATE POLICY "Investors can view own assets"
  ON investment_agricultural_assets
  FOR SELECT
  TO authenticated
  USING (user_id IN (
    SELECT id FROM user_profiles
    WHERE auth_user_id = auth.uid()
  ));

-- reservations
CREATE POLICY "Users can view own contracts"
  ON reservations
  FOR SELECT
  TO authenticated
  USING (user_id IN (
    SELECT id FROM user_profiles
    WHERE auth_user_id = auth.uid()
  ));

-- ูููุฐุง ูุฌููุน ุงูุฌุฏุงูู...
```

### ูุง ุชุณุฑูุจ ููุจูุงูุงุช

```typescript
// โ ุตุญูุญ: ูุฌูุจ ููุท ุจูุงูุงุช ุงููุณุชุฎุฏู
getInvestorFarmData(userId)

// โ ุฎุทุฃ: ูุง ูููู ุงููุตูู ูุจูุงูุงุช ุงูุขุฎุฑูู
getInvestorFarmData(otherUserId) // RLS ูููุน ูุฐุง
```

---

## ๐ ุงูุฃุฏุงุก

### ุชุญููู ูุชูุงุฒู

```typescript
// ุฌููุน ุงูุงุณุชุนูุงูุงุช ุชุนูู ูู ููุณ ุงูููุช
const [assets, contracts, products, waste, expansion] = await Promise.all([
  getAssets(userId),
  getContracts(userId),
  getProductYields(userId),
  getWasteYields(userId),
  getExpansionOpportunities(userId)
]);
```

### Caching ุชููุงุฆู

```typescript
// ุงูุจูุงูุงุช ุชูุฎุฒู ูู state
const [farmData, setFarmData] = useState<InvestorMyFarmData | null>(null);

// ูุง ุฅุนุงุฏุฉ ุชุญููู ุฅูุง ุนูุฏ ุงูุญุงุฌุฉ
useEffect(() => {
  if (user && !farmData) {
    loadFarmData();
  }
}, [user]);
```

### Lazy Loading

```typescript
// ุชุญููู ูุญุฏูุฏ ููุจูุงูุงุช
.limit(10)  // ุขุฎุฑ 10 ููุชุฌุงุช ููุท
.limit(5)   // ุขุฎุฑ 5 ูุฑุต ููุท
```

---

## โ ูุนูุงุฑ ุงููุจูู (ุชู ุชุญูููู)

- โ ุฅุฒุงูุฉ ุฌููุน ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ
- โ ุฑุจุท ูุงูู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุนุฑุถ ุงูุจูุงูุงุช ุงูุญููููุฉ ูููุณุชุซูุฑูู
- โ ุญุณุงุจ ุฏููุงูููู ูุญุงูุฉ ุงูุนููุฏ
- โ Loading state ุณูุณ
- โ Empty state ูุงุถุญ
- โ Fallback ููุจูุงูุงุช ุงููุงูุตุฉ
- โ ุชุฌุฑุจุฉ ูุฎุชููุฉ ููุฒูุงุฑ ูุงููุณุชุซูุฑูู
- โ ุฌููุน ุงูุฃูุณุงู ูุชุตูุฉ ุจุงูุจูุงูุงุช
- โ ุญุณุงุจุงุช ุฏูููุฉ ููุชูุฏู ูุงููุฑุงุญู

---

## ๐ ุงูุฎูุงุตุฉ

### ูุง ุชู ุฅูุฌุงุฒู

1. โ **Service ูุชุฎุตุต**
   - ุฌูุจ ุดุงูู ูุฌููุน ุจูุงูุงุช ุงููุณุชุซูุฑ
   - ุญุณุงุจุงุช ุฐููุฉ ููุชูุฏู ูุงููุฑุงุญู
   - ุชุฌููุน ูุชูุธูู ุงูุจูุงูุงุช

2. โ **ูุงุฌูุฉ ุฏููุงููููุฉ**
   - ุฑุจุท ูุงูู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุนุฑุถ ุญูููู ููุจูุงูุงุช
   - States ูุชุนุฏุฏุฉ (loading, empty, data)

3. โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ**
   - ุณูุณุฉ ูุณุฑูุนุฉ
   - ูุงุถุญุฉ ููููููุฉ
   - ููุงุณุจุฉ ููุฒูุงุฑ ูุงููุณุชุซูุฑูู

4. โ **ุฃุฏุงุก ุนุงูู**
   - ุงุณุชุนูุงูุงุช ูุชูุงุฒูุฉ
   - caching ุฐูู
   - lazy loading

### ุงูุชุฃุซูุฑ ุงูููุงุฆู

```
ุงููุณุชุซูุฑูู ุงูุขู ูููููู:
  โ ุฑุคูุฉ ุฃุตูููู ุงูุญููููุฉ
  โ ุชุชุจุน ุชูุฏู ุนููุฏูู
  โ ูุดุงูุฏุฉ ุนูุงุฆุฏูู
  โ ุงูุชุดุงู ูุฑุต ุงูุชูุณุน
  โ ุงูุซูุฉ ูู ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ

ุงููุชูุฌุฉ:
  ๐ ุชุฌุฑุจุฉ ุงุณุชุซูุงุฑูุฉ ุญููููุฉ
  ๐ฏ ุดูุงููุฉ ูุงููุฉ
  ๐ฐ ุซูุฉ ุงููุณุชุซูุฑูู
  ๐ ุจูุงูุงุช ููุซููุฉ
```

---

**ุงููุฑุญูุฉ ุงูุซุงูุซุฉ ููุชููุฉ ุจูุฌุงุญ! โ**

**ุฌุงูุฒ ูุฃู ูุฑุงุญู ุฅุถุงููุฉ!** ๐

---

**ุชุงุฑูุฎ ุงูุฅููุงู:** 2026-02-04
**ุนุฏุฏ ุงููููุงุช ุงููุถุงูุฉ:** 1
**ุนุฏุฏ ุงููููุงุช ุงููุนุฏูุฉ:** 1
**ุงูุญุงูุฉ:** โ ููุชูู ููุฎุชุจุฑ
