# ููู ุชุฎุชุจุฑ ูุธุงู ุงูุณููุงุช ุงููุฌุงููุฉุ โ

---

## ุงููุดููุฉ ุงูุชู ุชู ุฅุตูุงุญูุง ๐ง

```
โ ูุจู: ุงุณุชุฎุฏุงู setting_key ู setting_value (ุฎุงุทุฆ)
โ ุจุนุฏ: ุงุณุชุฎุฏุงู key ู value (ุตุญูุญ)
```

---

## ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ ๐งช

### 1. ุงูุชุฃูุฏ ูู ุชุทุจูู ุงูู Migration

```sql
-- ุงูุชุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุดุบูู ูุฐุง ุงูุงุณุชุนูุงู:
SELECT key, value, description, category
FROM system_settings
WHERE key LIKE '%partner%';
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**

```
key                              | value | description                    | category
---------------------------------|-------|--------------------------------|-------------
default_partner_bonus_years      | 3     | ุนุฏุฏ ุงูุณููุงุช ุงููุฌุงููุฉ...       | partner_codes
max_partner_bonus_years          | 10    | ุงูุญุฏ ุงูุฃูุตู...                | partner_codes
min_partner_bonus_years          | 1     | ุงูุญุฏ ุงูุฃุฏูู...                | partner_codes
partner_code_bonus_description   | ุณูู...| ูุตู ุงููููุฒุงุช...               | partner_codes
```

ุฅุฐุง ูู ุชุธูุฑุ ุทุจูู ุงูู migration:
```
supabase/migrations/20260209200000_add_bonus_years_to_partner_codes.sql
```

---

### 2. ุชุฌุฑุจุฉ ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ

```
1. ุงูุชุญ ููุญุฉ ุงูุฅุฏุงุฑุฉ
2. ุงุฐูุจ ุฅูู Marketing Management
3. ุงุถุบุท ุดุฑูุงุก ุงููุณูุฑุฉ
4. ุงุถุบุท ุฒุฑ "ุงูุณููุงุช ุงููุฌุงููุฉ" ๐
```

**ูุฌุจ ุฃู ุชุฑู:**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ุฅุนุฏุงุฏุงุช ุงูุณููุงุช ุงููุฌุงููุฉ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงูุณููุงุช ุงูุงูุชุฑุงุถูุฉ: [ 3 ]     โ
โ ุงูุญุฏ ุงูุฃุฏูู: [ 1 ]             โ
โ ุงูุญุฏ ุงูุฃูุตู: [ 10 ]            โ
โ ุงููุตู: [...]                   โ
โ                                 โ
โ [ ุญูุธ ุงูุฅุนุฏุงุฏุงุช ] โ            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 3. ุชุฌุฑุจุฉ ุงูุญูุธ

```
1. ุบููุฑ "ุงูุณููุงุช ุงูุงูุชุฑุงุถูุฉ" ูู 3 ุฅูู 5
2. ุงุถุบุท "ุญูุธ ุงูุฅุนุฏุงุฏุงุช"
```

**ูุฌุจ ุฃู ุชุฑู:**

```
โ ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ
```

**ูููุณ:**

```
โ Could not find the 'setting_value' column...
```

---

### 4. ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
-- ุชุญูู ูู ุงูุชุญุฏูุซ:
SELECT key, value 
FROM system_settings 
WHERE key = 'default_partner_bonus_years';
```

**ุงููุชูุฌุฉ:**

```
key                          | value
-----------------------------|-------
default_partner_bonus_years  | 5      โฌ๏ธ ุชู ุงูุชุญุฏูุซ!
```

---

### 5. ุชุฌุฑุจุฉ ููุฏ ุดุฑูู

```
1. ุงูุชุญ ุฃู ูุฒุฑุนุฉ (ุฒุฑุงุนู ุฃู ุงุณุชุซูุงุฑู)
2. ุงุถุบุท "ูู ูุฏูู ููุฏ ุดุฑููุ"
3. ุฃุฏุฎู ููุฏ ุตุญูุญ ูุซู: HNHTBH7780
4. ุงุถุบุท "ุชุญูู"
```

**ูุฌุจ ุฃู ุชุฑู:**

```
โ ุชู ุงูุชุญูู ูู ุงูููุฏ ุจูุฌุงุญ!

๐ ูุจุฑูู!
ููุฏ ุญุตูุช ุนูู:
+3 ุณููุงุช ูุฌุงููุฉ ๐

(ุฃู +5 ุฅุฐุง ุบููุฑุช ุงูุฅุนุฏุงุฏ ูู ุงูุฎุทูุฉ 3)
```

---

### 6. ุชุญูู ูู ููุฎุต ุงูุญุฌุฒ

```
ูู ุตูุญุฉ ุงููุฑุงุฌุนุฉุ ูุฌุจ ุฃู ุชุฑู:

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ููุฎุต ุงูุญุฌุฒ                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ูุฏุฉ ุงูุนูุฏ ุงูุฃุณุงุณูุฉ: 3 ุณููุงุช  โ
โ โ ูุฏุฉ ูู ุงูุจุงูุฉ: +1 ุณูุฉ       โ
โ โ ูุฏุฉ ูู ุงูููุฏ: +3 ุณููุงุช      โ โฌ๏ธ ููุง!
โ โโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ ุงููุฌููุน: 7 ุณููุงุช               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ๐

### ุฅุฐุง ุธูุฑ ุฎุทุฃ 400 Bad Request:

```
ุงูุณุจุจ: ุงูู migration ูู ูุชู ุชุทุจููู
ุงูุญู: ุทุจูู ุงูู migration ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

### ุฅุฐุง ูู ุชุธูุฑ ุงูุฅุนุฏุงุฏุงุช:

```
ุงูุณุจุจ: ูู ูุชู ุฅุฏุฑุงุฌ ุงูููู ูู ุงูุฌุฏูู
ุงูุญู: ุดุบูู ุงูู INSERT ูู ุงูู migration
```

### ุฅุฐุง ูุงู ุงูุญูุธ ูุง ูุนูู:

```
ุงูุณุจุจ: ุฎุทุฃ ูู RLS ุฃู ุงูุตูุงุญูุงุช
ุงูุญู: ุชุญูู ูู ุฃูู ูุณุฌู ุฏุฎูู ูู Admin
```

---

## ุงููููุงุช ุงููุนุฏูุฉ โ

```
โ supabase/migrations/20260209200000_add_bonus_years_to_partner_codes.sql
   - ุชุนุฏูู ุฃุณูุงุก ุงูุฃุนูุฏุฉ ูู setting_key ุฅูู key
   
โ src/components/admin/PartnerCodeSettings.tsx
   - ุชุนุฏูู ุฌููุน ุงุณุชุฎุฏุงูุงุช setting_key ุฅูู key
   - ุชุนุฏูู ุฌููุน ุงุณุชุฎุฏุงูุงุช setting_value ุฅูู value
```

---

## ุงูุชุญูู ุงูุณุฑูุน โก

```bash
# 1. ุงูุชุญ Console ูู ุงููุชุตูุญ
# 2. ุดุบูู ูุฐุง:
localStorage.clear();
sessionStorage.clear();
location.reload();

# 3. ุณุฌู ุฏุฎูู ูู Admin
# 4. ุฌุฑูุจ ุงูุญูุธ ูุฑุฉ ุฃุฎุฑู
```

---

**ูุฌุจ ุฃู ูุนูู ุงูุขู ุจุฏูู ูุดุงูู! โ**
