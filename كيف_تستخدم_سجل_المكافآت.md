# ğŸ“– ÙƒÙŠÙ ØªØ³ØªØ®Ø¯Ù… Ø³Ø¬Ù„ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ø³Ø¬Ù„ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ù‡Ùˆ **Ù†Ø¸Ø§Ù… Ø´ÙØ§Ù 100%** ÙŠØ³Ø¬Ù„ ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© Ø§Ø­ØªØ³Ø§Ø¨ Ù…ÙƒØ§ÙØ¢Øª Ø¨Ø§Ù„ØªÙØµÙŠÙ„.

---

## ğŸ” Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ø³Ø¬Ù„

### 1. Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù…Ø¤Ø«Ø± Ù…Ø¹ÙŠÙ†

```sql
SELECT
  created_at AS "Ø§Ù„ØªØ§Ø±ÙŠØ®",
  trees_added AS "Ø§Ù„Ø£Ø´Ø¬Ø§Ø± Ø§Ù„Ù…Ø¶Ø§ÙØ©",
  trees_before AS "Ù‚Ø¨Ù„",
  trees_after AS "Ø¨Ø¹Ø¯",
  rewards_before AS "Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ù‚Ø¨Ù„",
  rewards_after AS "Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø¨Ø¹Ø¯",
  new_rewards_earned AS "Ù…ÙƒØ§ÙØ¢Øª Ø¬Ø¯ÙŠØ¯Ø©",
  trees_in_current_batch AS "Ø§Ù„ØªÙ‚Ø¯Ù…",
  trees_until_next_reward AS "Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©",
  notes AS "Ù…Ù„Ø§Ø­Ø¸Ø§Øª"
FROM influencer_rewards_log
WHERE influencer_id = (
  SELECT id FROM influencer_partners
  WHERE name = 'Ø§Ø­Ù…Ø¯_Ø§Ù„Ù…Ø²Ø§Ø±Ø¹'
)
ORDER BY created_at DESC;
```

**Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù†ØªÙŠØ¬Ø©:**

| Ø§Ù„ØªØ§Ø±ÙŠØ® | Ø§Ù„Ù…Ø¶Ø§ÙØ© | Ù‚Ø¨Ù„ | Ø¨Ø¹Ø¯ | Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ù‚Ø¨Ù„ | Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø¨Ø¹Ø¯ | Ù…ÙƒØ§ÙØ¢Øª Ø¬Ø¯ÙŠØ¯Ø© | Ø§Ù„ØªÙ‚Ø¯Ù… | Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© | Ù…Ù„Ø§Ø­Ø¸Ø§Øª |
|---------|---------|-----|-----|--------------|--------------|--------------|---------|----------|----------|
| 2026-02-05 14:30 | 30 | 85 | 115 | 4 | 5 | 1 | 15 | 5 | ØªÙ… ÙƒØ³Ø¨ 1 Ù…ÙƒØ§ÙØ£Ø© Ø¬Ø¯ÙŠØ¯Ø©! ğŸ‰ |
| 2026-02-04 10:15 | 25 | 60 | 85 | 3 | 4 | 1 | 5 | 15 | ØªÙ… ÙƒØ³Ø¨ 1 Ù…ÙƒØ§ÙØ£Ø© Ø¬Ø¯ÙŠØ¯Ø©! ğŸ‰ |
| 2026-02-03 16:45 | 15 | 45 | 60 | 2 | 3 | 1 | 0 | 20 | ØªÙ… ÙƒØ³Ø¨ 1 Ù…ÙƒØ§ÙØ£Ø© Ø¬Ø¯ÙŠØ¯Ø©! ğŸ‰ |

---

### 2. Ø¢Ø®Ø± 10 Ø¹Ù…Ù„ÙŠØ§Øª Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†

```sql
SELECT
  ip.name AS "Ø§Ù„Ù…Ø¤Ø«Ø±",
  rl.created_at AS "Ø§Ù„ØªØ§Ø±ÙŠØ®",
  rl.trees_added AS "Ø£Ø´Ø¬Ø§Ø±",
  rl.new_rewards_earned AS "Ù…ÙƒØ§ÙØ¢Øª Ø¬Ø¯ÙŠØ¯Ø©",
  rl.trees_in_current_batch || '/20' AS "Ø§Ù„ØªÙ‚Ø¯Ù…"
FROM influencer_rewards_log rl
JOIN influencer_partners ip ON rl.influencer_id = ip.id
ORDER BY rl.created_at DESC
LIMIT 10;
```

---

### 3. Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªÙŠ Ø£Ù†ØªØ¬Øª Ù…ÙƒØ§ÙØ¢Øª ÙÙ‚Ø·

```sql
SELECT
  ip.name AS "Ø§Ù„Ù…Ø¤Ø«Ø±",
  rl.created_at AS "Ø§Ù„ØªØ§Ø±ÙŠØ®",
  rl.trees_added AS "Ø§Ù„Ø£Ø´Ø¬Ø§Ø± Ø§Ù„Ù…Ø¶Ø§ÙØ©",
  rl.new_rewards_earned AS "Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©",
  rl.notes
FROM influencer_rewards_log rl
JOIN influencer_partners ip ON rl.influencer_id = ip.id
WHERE rl.new_rewards_earned > 0
ORDER BY rl.created_at DESC;
```

---

## ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

### 1. Ù…Ù„Ø®Øµ ÙŠÙˆÙ…ÙŠ

```sql
SELECT
  DATE(created_at) AS "Ø§Ù„ØªØ§Ø±ÙŠØ®",
  COUNT(*) AS "Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª",
  SUM(trees_added) AS "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø´Ø¬Ø§Ø±",
  SUM(new_rewards_earned) AS "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª"
FROM influencer_rewards_log
WHERE created_at >= CURRENT_DATE - INTERVAL '7 days'
GROUP BY DATE(created_at)
ORDER BY DATE(created_at) DESC;
```

---

### 2. Ù…Ù„Ø®Øµ Ù„ÙƒÙ„ Ù…Ø¤Ø«Ø±

```sql
SELECT
  ip.name AS "Ø§Ù„Ù…Ø¤Ø«Ø±",
  COUNT(rl.id) AS "Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª",
  SUM(rl.trees_added) AS "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø´Ø¬Ø§Ø±",
  SUM(rl.new_rewards_earned) AS "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª",
  ip.total_trees_booked % 20 AS "Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ"
FROM influencer_partners ip
LEFT JOIN influencer_rewards_log rl ON ip.id = rl.influencer_id
GROUP BY ip.id, ip.name
ORDER BY SUM(rl.trees_added) DESC NULLS LAST;
```

---

### 3. Ø£ÙƒØ¨Ø± 5 Ø­Ø¬ÙˆØ²Ø§Øª

```sql
SELECT
  ip.name AS "Ø§Ù„Ù…Ø¤Ø«Ø±",
  rl.trees_added AS "Ø§Ù„Ø£Ø´Ø¬Ø§Ø±",
  rl.new_rewards_earned AS "Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª",
  rl.created_at AS "Ø§Ù„ØªØ§Ø±ÙŠØ®"
FROM influencer_rewards_log rl
JOIN influencer_partners ip ON rl.influencer_id = ip.id
ORDER BY rl.trees_added DESC
LIMIT 5;
```

---

## ğŸ“ˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… View

### 1. Ø­Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ† Ù…Ø¹ Ø§Ù„ØªÙ‚Ø¯Ù…

```sql
SELECT
  referral_code AS "Ø§Ù„ÙƒÙˆØ¯",
  partner_name AS "Ø§Ù„Ø§Ø³Ù…",
  total_bookings AS "Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª",
  total_trees_booked AS "Ø§Ù„Ø£Ø´Ø¬Ø§Ø±",
  total_rewards_earned AS "Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª",
  trees_in_current_batch || '/20' AS "Ø§Ù„ØªÙ‚Ø¯Ù…",
  trees_until_next_reward AS "Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©",
  progress_percentage || '%' AS "Ø§Ù„Ù†Ø³Ø¨Ø©"
FROM influencer_rewards_details
WHERE is_active = true
ORDER BY total_trees_booked DESC;
```

**Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù†ØªÙŠØ¬Ø©:**

| Ø§Ù„ÙƒÙˆØ¯ | Ø§Ù„Ø§Ø³Ù… | Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª | Ø§Ù„Ø£Ø´Ø¬Ø§Ø± | Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª | Ø§Ù„ØªÙ‚Ø¯Ù… | Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© | Ø§Ù„Ù†Ø³Ø¨Ø© |
|-------|-------|----------|---------|----------|---------|----------|--------|
| Ø§Ø­Ù…Ø¯_Ø§Ù„Ù…Ø²Ø§Ø±Ø¹ | Ø£Ø­Ù…Ø¯ Ø§Ù„Ù…Ø²Ø§Ø±Ø¹ | 8 | 115 | 5 | 15/20 | 5 | 75.0% |
| Ø³Ø§Ø±Ø©_Ø§Ù„Ø¨Ø³ØªØ§Ù†ÙŠ | Ø³Ø§Ø±Ø© Ø§Ù„Ø¨Ø³ØªØ§Ù†ÙŠ | 5 | 82 | 4 | 2/20 | 18 | 10.0% |

---

### 2. Ø§Ù„Ù…Ø¤Ø«Ø±ÙˆÙ† Ø§Ù„Ù‚Ø±ÙŠØ¨ÙˆÙ† Ù…Ù† Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©

```sql
SELECT
  referral_code AS "Ø§Ù„ÙƒÙˆØ¯",
  partner_name AS "Ø§Ù„Ø§Ø³Ù…",
  trees_until_next_reward AS "Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©",
  progress_percentage || '%' AS "Ø§Ù„Ù†Ø³Ø¨Ø©"
FROM influencer_rewards_details
WHERE trees_until_next_reward <= 5
AND is_active = true
ORDER BY trees_until_next_reward ASC;
```

---

## ğŸ” Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù…ÙÙŠØ¯Ø©

### 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¬Ø² Ù…Ø¹ÙŠÙ†

```sql
SELECT
  ip.name AS "Ø§Ù„Ù…Ø¤Ø«Ø±",
  r.id AS "Ø§Ù„Ø­Ø¬Ø²",
  rl.*
FROM influencer_rewards_log rl
JOIN influencer_partners ip ON rl.influencer_id = ip.id
JOIN reservations r ON rl.reservation_id = r.id
WHERE r.id = 'Ø±Ù‚Ù…_Ø§Ù„Ø­Ø¬Ø²_Ù‡Ù†Ø§';
```

---

### 2. Ø§Ù„Ù…Ø¤Ø«Ø±ÙˆÙ† Ø¨Ø¯ÙˆÙ† Ù†Ø´Ø§Ø·

```sql
SELECT
  name AS "Ø§Ù„Ù…Ø¤Ø«Ø±",
  total_bookings AS "Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª",
  last_booking_at AS "Ø¢Ø®Ø± Ø­Ø¬Ø²",
  EXTRACT(DAY FROM (now() - last_booking_at)) AS "Ù…Ù†Ø° (Ø£ÙŠØ§Ù…)"
FROM influencer_partners
WHERE is_active = true
AND (last_booking_at IS NULL OR last_booking_at < now() - INTERVAL '30 days')
ORDER BY last_booking_at ASC NULLS FIRST;
```

---

### 3. Ø§Ù„Ù†Ù…Ùˆ Ø§Ù„Ø´Ù‡Ø±ÙŠ

```sql
SELECT
  DATE_TRUNC('month', created_at) AS "Ø§Ù„Ø´Ù‡Ø±",
  COUNT(DISTINCT influencer_id) AS "Ø§Ù„Ù…Ø¤Ø«Ø±ÙˆÙ† Ø§Ù„Ù†Ø´Ø·ÙˆÙ†",
  COUNT(*) AS "Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª",
  SUM(trees_added) AS "Ø§Ù„Ø£Ø´Ø¬Ø§Ø±",
  SUM(new_rewards_earned) AS "Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª"
FROM influencer_rewards_log
GROUP BY DATE_TRUNC('month', created_at)
ORDER BY "Ø§Ù„Ø´Ù‡Ø±" DESC;
```

---

## ğŸ“± ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…

### Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø¨ØµØ±ÙŠ

Ø§ÙØªØ­: **Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… â†’ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ â†’ Ø´Ø±ÙƒØ§Ø¡ Ø§Ù„Ù…Ø³ÙŠØ±Ø©**

Ø³ØªØ±Ù‰:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø§Ù„ØªÙ‚Ø¯Ù…                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 15/20  (5 Ù…ØªØ¨Ù‚ÙŠØ©)                                     â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 75%          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ø´Ø±Ø­ Ø§Ù„Ø£Ù„ÙˆØ§Ù†:**
- ğŸŸ¡ **Ø°Ù‡Ø¨ÙŠ:** Ù‚Ø±ÙŠØ¨ Ù…Ù† Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© (75%+)
- ğŸŸ  **Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ:** ØªÙ‚Ø¯Ù… Ù…ØªÙˆØ³Ø· (50-75%)
- âšª **Ø±Ù…Ø§Ø¯ÙŠ:** Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¯ÙØ¹Ø© (0-50%)

---

## ğŸ’¡ Ù†ØµØ§Ø¦Ø­

### 1. Ù…ØªØ§Ø¨Ø¹Ø© ÙŠÙˆÙ…ÙŠØ©

Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… ÙŠÙˆÙ…ÙŠØ§Ù‹:

```sql
SELECT
  COUNT(*) AS "Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„ÙŠÙˆÙ…",
  SUM(trees_added) AS "Ø£Ø´Ø¬Ø§Ø± Ø§Ù„ÙŠÙˆÙ…",
  SUM(new_rewards_earned) AS "Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„ÙŠÙˆÙ…"
FROM influencer_rewards_log
WHERE created_at >= CURRENT_DATE;
```

---

### 2. ØªÙ†Ø¨ÙŠÙ‡Ø§Øª

Ø±Ø§Ù‚Ø¨ Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ† Ø§Ù„Ù‚Ø±ÙŠØ¨ÙŠÙ† Ù…Ù† Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©:

```sql
SELECT
  referral_code,
  partner_name,
  trees_until_next_reward
FROM influencer_rewards_details
WHERE trees_until_next_reward <= 3
AND is_active = true;
```

---

### 3. Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚

ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª:

```sql
SELECT
  ip.name,
  ip.total_rewards_earned AS "Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©",
  FLOOR(ip.total_trees_booked / 20.0) AS "Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©",
  CASE
    WHEN ip.total_rewards_earned = FLOOR(ip.total_trees_booked / 20.0)
    THEN 'âœ… ØµØ­ÙŠØ­'
    ELSE 'âŒ Ø®Ø·Ø£'
  END AS "Ø§Ù„Ø­Ø§Ù„Ø©"
FROM influencer_partners ip;
```

---

## ğŸ“ Ø§Ù„Ø®Ù„Ø§ØµØ©

Ø§Ù„Ø³Ø¬Ù„ ÙŠÙˆÙØ±:
- âœ… **Ø´ÙØ§ÙÙŠØ© ÙƒØ§Ù…Ù„Ø©:** ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© Ù…ÙˆØ«Ù‚Ø©
- âœ… **ØªØ¯Ù‚ÙŠÙ‚ Ø³Ù‡Ù„:** Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø¬Ø§Ù‡Ø²Ø©
- âœ… **ØªÙ‚Ø§Ø±ÙŠØ± ØºÙ†ÙŠØ©:** Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØµÙŠÙ„ÙŠØ©
- âœ… **Ø¹Ø±Ø¶ Ø¨ØµØ±ÙŠ:** Ø³Ù‡Ù„ Ø§Ù„ÙÙ‡Ù…
- âœ… **Ø«Ù‚Ø©:** Ù„Ø§ ØªÙ„Ø§Ø¹Ø¨ Ù…Ù…ÙƒÙ†

Ø§Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù„Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„ØªØ¯Ù‚ÙŠÙ‚!

---

Ø§Ù„ØªØ§Ø±ÙŠØ®: 5 ÙØ¨Ø±Ø§ÙŠØ± 2026
