/*
  # إضافة قوالب الرسائل الافتراضية

  1. القوالب المضافة:
    - فتح سداد
    - تذكير بالسداد
    - تأكيد استلام الطلب
    - رسالة عامة

  2. ملاحظات:
    - جميع القوالب مميزة كقوالب نظام (is_system = true)
    - تحتوي على متغيرات ديناميكية
*/

-- قالب: فتح سداد
INSERT INTO message_templates (name, content, variables, category, is_system)
VALUES (
  'فتح سداد',
  'عزيزي/عزيزتي {{اسم_المستثمر}}،

نود إعلامك بأن دفعة السداد لحجزك رقم {{رقم_الحجز}} في مزرعة {{اسم_المزرعة}} أصبحت متاحة الآن.

تفاصيل الدفعة:
- المبلغ المطلوب: {{المبلغ}} ريال
- تاريخ الاستحقاق: {{تاريخ_الاستحقاق}}

يرجى إكمال السداد في أقرب وقت ممكن لضمان استمرار خدماتك.

للسداد، يرجى زيارة:
{{رابط_السداد}}

مع تحياتنا،
فريق إدارة المزارع',
  ARRAY['اسم_المستثمر', 'رقم_الحجز', 'اسم_المزرعة', 'المبلغ', 'تاريخ_الاستحقاق', 'رابط_السداد'],
  'payment',
  true
)
ON CONFLICT DO NOTHING;

-- قالب: تذكير بالسداد
INSERT INTO message_templates (name, content, variables, category, is_system)
VALUES (
  'تذكير بالسداد',
  'عزيزي/عزيزتي {{اسم_المستثمر}}،

هذا تذكير بخصوص دفعة السداد المستحقة لحجزك رقم {{رقم_الحجز}} في مزرعة {{اسم_المزرعة}}.

تفاصيل الدفعة:
- المبلغ المستحق: {{المبلغ}} ريال
- تاريخ الاستحقاق: {{تاريخ_الاستحقاق}}
- الأيام المتبقية: {{الأيام_المتبقية}} يوم

نرجو منكم إكمال السداد في أقرب وقت لتجنب أي تأخير في الخدمات.

للسداد، يرجى زيارة:
{{رابط_السداد}}

إذا كنت قد أكملت السداد مؤخراً، يرجى تجاهل هذه الرسالة.

مع تحياتنا،
فريق إدارة المزارع',
  ARRAY['اسم_المستثمر', 'رقم_الحجز', 'اسم_المزرعة', 'المبلغ', 'تاريخ_الاستحقاق', 'الأيام_المتبقية', 'رابط_السداد'],
  'payment',
  true
)
ON CONFLICT DO NOTHING;

-- قالب: تأكيد استلام الطلب
INSERT INTO message_templates (name, content, variables, category, is_system)
VALUES (
  'تأكيد استلام الطلب',
  'عزيزي/عزيزتي {{اسم_المستثمر}}،

نشكركم على اهتمامكم بالاستثمار معنا!

تم استلام طلب حجزكم بنجاح:
- رقم الحجز: {{رقم_الحجز}}
- المزرعة: {{اسم_المزرعة}}
- نوع الأشجار: {{نوع_الأشجار}}
- عدد الأشجار: {{عدد_الأشجار}} شجرة
- المبلغ الإجمالي: {{المبلغ_الإجمالي}} ريال

حالة الطلب: {{حالة_الطلب}}

سيتم مراجعة طلبكم والتواصل معكم قريباً لإكمال الإجراءات.

يمكنكم متابعة حجزكم من خلال:
{{رابط_الحجز}}

مع تحياتنا،
فريق إدارة المزارع',
  ARRAY['اسم_المستثمر', 'رقم_الحجز', 'اسم_المزرعة', 'نوع_الأشجار', 'عدد_الأشجار', 'المبلغ_الإجمالي', 'حالة_الطلب', 'رابط_الحجز'],
  'reservation',
  true
)
ON CONFLICT DO NOTHING;

-- قالب: رسالة عامة
INSERT INTO message_templates (name, content, variables, category, is_system)
VALUES (
  'رسالة عامة',
  'عزيزي/عزيزتي {{اسم_المستثمر}}،

{{محتوى_الرسالة}}

مع تحياتنا،
فريق إدارة المزارع',
  ARRAY['اسم_المستثمر', 'محتوى_الرسالة'],
  'general',
  true
)
ON CONFLICT DO NOTHING;