# ๐ง ุฅุตูุงุญ ูุดููุฉ ุงููุณุงุนุฏ ุงูุฐูู ูู ุงูุดุงุช

## ๐ ุงููุดููุฉ

ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ุงูุชู ุชุถูููุง ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ **ูุง ุชุธูุฑ ูู ุงูุดุงุช**ุ ููู ุงูุฃุณุฆูุฉ ุงููุฏููุฉ ุชุนูู.

---

## ๐ ุงูุณุจุจ ุงูุฌุฐุฑู

ูุงู Edge Function (`smart-assistant`) ูุณุชุฎุฏู ุทุฑููุฉ ุจุญุซ ูุฏููุฉ ููุนูุฏุฉ ุจุฏูุงู ูู ุงุณุชุฎุฏุงู ุฏุงูุฉ `search_faqs()` ุงููุญุณููุฉ ุงูุชู ุฃูุดุฃูุงูุง.

### ูุงู ููุนู:
```typescript
// โ ุทุฑููุฉ ูุฏููุฉ ููุนูุฏุฉ
const { data: faqs } = await supabase
  .from('assistant_faqs')
  .select('*')
  .eq('is_active', true)
  .eq('is_approved', true);

// ุซู ูุจุญุซ ูุฏููุงู ูู ูู ุณุคุงู
for (const faq of faqs) {
  // ... 100+ ุณุทุฑ ูู ุงูุจุญุซ ุงููุฏูู
}
```

---

## โ ุงูุญู ุงููุทุจู

ุชู ุชุญุฏูุซ Edge Function ููุณุชุฎุฏู ุฏุงูุฉ `search_faqs()` ุงููุญุณููุฉ:

```typescript
// โ ุทุฑููุฉ ูุญุณููุฉ ูุฐููุฉ
const { data, error } = await supabase.rpc('search_faqs', {
  search_query: question
});

const bestMatch = data[0]; // ุฃูุถู ูุชูุฌุฉ
```

---

## ๐ฏ ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### 1. ุงุณุชุฎุฏุงู ุฏุงูุฉ ุงูุจุญุซ ุงููุญุณููุฉ
- ุจุญุซ ุฃุฐูู ูุฃุณุฑุน
- scoring ุฏููู (0-100)
- ูุฏุนู ุฌููุน ุงูุตูุบ ุงูุจุฏููุฉ ูุงูู tags

### 2. ุชูููู ุงูุญุฏ ุงูุฃุฏูู ููุชุทุงุจู
```typescript
// ูุงู: score >= 70
if (searchResult && searchResult.score >= 50) {
  // ุงูุขู: score >= 50
  // ููุจู ุชุทุงุจู ุฃูุณุน
}
```

### 3. ุงุณุชุฎุฏุงู `mark_faq_as_used()`
```typescript
// โ ุชุณุฌูู ุชููุงุฆู ููุงุณุชุฎุฏุงู
if (matchedFaqId) {
  await supabase.rpc('mark_faq_as_used', { faq_id: matchedFaqId });
}
```

### 4. ุชุจุณูุท ุงูููุฏ
- ูู ~300 ุณุทุฑ ุฅูู ~250 ุณุทุฑ
- ุฃุณูู ูู ุงูุตูุงูุฉ
- ุฃุณุฑุน ูู ุงูุชูููุฐ

---

## ๐ ููู ุชุฎุชุจุฑ ุงูุขู

### 1. ุฃุถู ุณุคุงู ุฌุฏูุฏ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
```
ุงูุณุคุงู: "ูู ุชูููุฉ ุงูุดุฌุฑุฉุ"
ุงูุฌูุงุจ: "ุชุจุฏุฃ ุชูููุฉ ุงูุดุฌุฑุฉ ูู 500 ุฑูุงู..."
ุงูุตูุบ ุงูุจุฏููุฉ:
  - "ุณุนุฑ ุงูุดุฌุฑุฉ"
  - "ูู ุงูุณุนุฑ"
  - "ุจูู ุงูุดุฌุฑุฉ"
```

### 2. ูุนูู ูุงุนุชูุฏ ุงูุณุคุงู
```
โ ูุดุท
โ ูุนุชูุฏ
```

### 3. ุงุฎุชุจุฑ ูู ุงูุดุงุช
```
1. ุงูุชุญ ุงููุณุงุนุฏ ุงูุฐูู ูู ุงููููุน
2. ุงูุชุจ: "ูู ุชูููุฉ ุงูุดุฌุฑุฉุ"
3. ูุฌุจ ุฃู ูุธูุฑ ุงูุฌูุงุจ ููุฑุงู
```

### 4. ุฌุฑุจ ุตูุบ ูุฎุชููุฉ
```
- "ุณุนุฑ ุงูุดุฌุฑุฉ"
- "ูู ุงูุณุนุฑ"
- "ุจูู"
- "ุงูุชูููุฉ"
```

---

## ๐ ูุธุงู ุงูุชุทุงุจู ุงูุฌุฏูุฏ

### ุฏุฑุฌุงุช ุงูุชุทุงุจู (Score):
```
100 ููุทุฉ = ูุทุงุจูุฉ ุชุงูุฉ ููุณุคุงู ุงูุฃุณุงุณู
95 ููุทุฉ  = ูุทุงุจูุฉ ุชุงูุฉ ูู ุงูุตูุบ ุงูุจุฏููุฉ
80 ููุทุฉ  = ุชุทุงุจู ุฌุฒุฆู ูู ุงูุณุคุงู
70 ููุทุฉ  = ุชุทุงุจู ุฌุฒุฆู ูู ุงูุตูุบ ุงูุจุฏููุฉ
60 ููุทุฉ  = ุชุทุงุจู ูู Tags
50 ููุทุฉ  = ุชุทุงุจู ุฌุฒุฆู ูู ุงูุฅุฌุงุจุฉ
```

### ุงูุญุฏ ุงูุฃุฏูู ูููุจูู:
```
โ score >= 50 = ูุนุฑุถ ุงูุฅุฌุงุจุฉ
โ score < 50  = ูุนุฑุถ ุงูุฑุณุงูุฉ ุงูุงูุชุฑุงุถูุฉ
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุณุคุงู ุงูุฌุฏูุฏ ูุง ูุฒุงู ูุง ูุธูุฑุ

**ุชุญูู ูู:**
```
1. โ ุงูุณุคุงู ูุดุท (is_active = true)
2. โ ุงูุณุคุงู ูุนุชูุฏ (is_approved = true)
3. โ ุงูุตูุบ ุงูุจุฏููุฉ ููุฌูุฏุฉ ููุงุถุญุฉ
4. โ ุงูู Tags ููุงุณุจุฉ
```

### ุงูุจุญุซ ูุง ูุฌุฏ ุงููุชุงุฆุฌุ

**ุญุงูู:**
```
1. ุฃุถู ุงููุฒูุฏ ูู ุงูุตูุบ ุงูุจุฏููุฉ
2. ุฃุถู tags ูุงุถุญุฉ
3. ุงูุชุจ ุงูุณุคุงู ุจุทุฑููุฉ ูุฎุชููุฉ
4. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ุฅููุงุฆูุฉ
```

### ุงูุฅุฌุงุจุฉ ุงูุงูุชุฑุงุถูุฉ ุชุธูุฑ ุฏุงุฆูุงูุ

**ุงูุณุจุจ:**
```
- ุฏุฑุฌุฉ ุงูุชุทุงุจู ุฃูู ูู 50
- ูุง ุชูุฌุฏ ุฃุณุฆูุฉ ูุดุงุจูุฉ
- ุงูุตูุบ ุงูุจุฏููุฉ ุบูุฑ ูุงููุฉ
```

**ุงูุญู:**
```
1. ุฑุงุฌุน ุงูุณุคุงู ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
2. ุฃุถู ุตูุบ ุจุฏููุฉ ุฃูุซุฑ (8-10 ุตูุบ)
3. ุงุณุชุฎุฏู ุงูุงุฎุชุจุงุฑ ุงููุจุงุดุฑ ูุชุฌุฑุจุชูุง
```

---

## ๐ ุฃูุซูุฉ ุนูู ุงูุตูุบ ุงูุจุฏููุฉ ุงูุฌูุฏุฉ

### ูุซุงู 1: ุณุคุงู ุนู ุงูุณุนุฑ
```
ุงูุณุคุงู ุงูุฃุณุงุณู: "ูู ุชูููุฉ ุงูุดุฌุฑุฉุ"

ุงูุตูุบ ุงูุจุฏููุฉ:
โ "ุณุนุฑ ุงูุดุฌุฑุฉ"
โ "ูู ุงูุณุนุฑ"
โ "ุจูู ุงูุดุฌุฑุฉ"
โ "ุงูุชูููุฉ"
โ "ูู ุงุณุนุงุฑูู"
โ "ุงุณุนุงุฑ ุงูุงุดุฌุงุฑ"
โ "ุชูุงููู ุงูุงุณุชุซูุงุฑ"
โ "ูู ูููููู"

Tags:
#ุณุนุฑ #ุชูููุฉ #ุงุณุชุซูุงุฑ #ุดุฑุงุก
```

### ูุซุงู 2: ุณุคุงู ุนู ุงููุฏุฉ
```
ุงูุณุคุงู ุงูุฃุณุงุณู: "ูู ูุฏุฉ ุงูุงุณุชุซูุงุฑุ"

ุงูุตูุบ ุงูุจุฏููุฉ:
โ "ุงููุฏุฉ"
โ "ูู ุณูุฉ"
โ "ูุชู ุงุณุชูู"
โ "ุงููุชุฑุฉ"
โ "ุงูุชุฒุงู ูู"
โ "ุงููุฏุฉ ุงูุฒูููุฉ"
โ "ููุช ุงูุงุณุชุซูุงุฑ"
โ "ุทูู ุงููุฏุฉ"

Tags:
#ูุฏุฉ #ููุช #ุณููุงุช #ุงูุชุฒุงู
```

---

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### ูุจู ุงูุฅุตูุงุญ:
```
โ ุงูุฃุณุฆูุฉ ุงูุฌุฏูุฏุฉ ูุง ุชุนูู
โ ุจุญุซ ูุนูุฏ ููุฏูู
โ ุจุทูุก
โ ูุง ูุณุชุฎุฏู ุงูุฏูุงู ุงููุญุณููุฉ
```

### ุจุนุฏ ุงูุฅุตูุงุญ:
```
โ ุฌููุน ุงูุฃุณุฆูุฉ ุชุนูู (ุฌุฏูุฏุฉ ููุฏููุฉ)
โ ุจุญุซ ุฐูู ููุญุณูู
โ ุณุฑูุน ุฌุฏุงู
โ ูุณุชุฎุฏู ุฏุงูุฉ search_faqs()
โ ูุณุฌู ุงูุงุณุชุฎุฏุงู ุชููุงุฆูุงู
โ threshold ุฃูู (50 ุจุฏูุงู ูู 70)
```

---

## ๐ ุชุญุฏูุซุงุช ุชูุช

### ุงููููุงุช ุงููุนุฏูุฉ:
```
โ supabase/functions/smart-assistant/index.ts
   - ุงุณุชุฎุฏุงู search_faqs()
   - ุงุณุชุฎุฏุงู mark_faq_as_used()
   - ุชุจุณูุท ุงูููุฏ
   - ุชุญุณูู ุงูุฃุฏุงุก
```

### ุงูุฏูุงู ุงููุณุชุฎุฏูุฉ:
```
โ search_faqs(search_query TEXT)
   - ุจุญุซ ุฐูู ูุน scoring
   - ูุฏุนู ุงูุตูุบ ุงูุจุฏููุฉ ูุงูู tags

โ mark_faq_as_used(faq_id UUID)
   - ุชุณุฌูู ุชููุงุฆู ููุงุณุชุฎุฏุงู
   - ุชุญุฏูุซ last_used_at
```

---

## ๐ก ูุตุงุฆุญ ููุญุตูู ุนูู ุฃูุถู ูุชุงุฆุฌ

### 1. ุตูุบ ุจุฏููุฉ ูุซูุฑุฉ
```
- ุนูู ุงูุฃูู 8-10 ุตูุบ ููู ุณุคุงู
- ูุตูุฑุฉ ูุทูููุฉ
- ููุฌุงุช ูุฎุชููุฉ (ูุง/ุดู/ูุด)
- ุฃุฎุทุงุก ุฅููุงุฆูุฉ ุดุงุฆุนุฉ
```

### 2. Tags ูุงุถุญุฉ
```
- 3-5 tags ููู ุณุคุงู
- ูููุงุช ููุชุงุญูุฉ ูููุฉ
- ุณููุฉ ุงูุจุญุซ
```

### 3. ุฅุฌุงุจุงุช ูุงุถุญุฉ
```
- ูุจุงุดุฑุฉ ููุฎุชุตุฑุฉ
- ููุงุท ูุงุถุญุฉ
- ุฃูุซูุฉ ุนูููุฉ
```

### 4. ุงุฎุชุจุฑ ุฏุงุฆูุงู
```
- ุงุณุชุฎุฏู ูุญุฑู ุงูุงุฎุชุจุงุฑ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
- ุฌุฑุจ ุตูุบ ูุฎุชููุฉ
- ุฑุงูุจ ุฏุฑุฌุฉ ุงูุชุทุงุจู
```

---

## ๐ ุงูุฎูุงุตุฉ

โ **ุงููุดููุฉ ุชู ุญููุง ุจุงููุงูู!**

ุงูุขู ุฌููุน ุงูุฃุณุฆูุฉ ุงูุชู ุชุถูููุง ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ ุณุชุธูุฑ ููุฑุงู ูู ุงูุดุงุชุ ุจูุถู:
1. ุงุณุชุฎุฏุงู ุฏุงูุฉ `search_faqs()` ุงููุญุณููุฉ
2. ุชูููู ุงูุญุฏ ุงูุฃุฏูู ููุชุทุงุจู (50 ุจุฏูุงู ูู 70)
3. ุจุญุซ ุฃุฐูู ูุฏุนู ุงูุตูุบ ุงูุจุฏููุฉ ูุงูู tags
4. ุชุณุฌูู ุชููุงุฆู ููุงุณุชุฎุฏุงู

**ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ ุงูุขู!** ๐
