# ุชุญุฏูุซ ูุธุงู ุงูููุฏ ูู ุญุณุงุจ ุดุฑูู ุงููุฌุงุญ โ

---

## ุงููุดููุฉ ๐

ุจุนุฏ ุฅุถุงูุฉ ูุธุงู ุงูููุฏ ุงูุฌุฏูุฏ (partner_code)ุ ูู ูุชู ุชุญุฏูุซ ุญุณุงุจ ุดุฑูู ุงููุฌุงุญ:

```
โ ุฑุณุงูุฉ ุงููุดุงุฑูุฉ ูุง ุชุฒุงู ุชุณุชุฎุฏู ุงูุงุณู ุจุฏูุงู ูู ุงูููุฏ
โ ูุณู "ุดุงุฑู ููุฏู ุงููููุฒ" ูุง ูุนุฑุถ ุงูููุฏ ุงูุตุญูุญ
โ Dashboard ูุง ูุฌูุจ partner_code ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

---

## ุงูุญู ุงููุทุจู โ

### 1. ุชุญุฏูุซ ุฑุณุงูุฉ ุงููุดุงุฑูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ูุจู:**
```sql
-- ุงูุฑุณุงูุฉ ุงููุฏููุฉ
ุนูุฏ ุงูุชุณุฌูู ุงูุชุจ ุงุณูู: {partner_name}
```

**ุจุนุฏ:**
```sql
UPDATE system_settings 
SET value = '๐ฟ ุงุณุชุซูุฑ ูู ุดุฌุฑุฉโฆ ูุงูุชูู ุญุตุฉ ูู ุฃุฑุถ ุญููููุฉ

ุฃูููุง ุจูุ
ุฃูุง {display_name}
ุดุฑูู ูุฌุงุญ ูุนุชูุฏ ูู ููุตุฉ ุญุตุต ุฒุฑุงุนูุฉ ๐ฑ

๐น ุนุจุฑ ุงูููุตุฉ ููููู ุญุฌุฒ ุดุฌุฑุฉ ุฒูุชูู ูู ูุฒุงุฑุน ุญููููุฉ
๐น ูุชุงุจุนุฉ ุงูุดุฌุฑุฉ ูุงูุฅูุชุงุฌ ุฎุทูุฉ ุจุฎุทูุฉ
๐น ุนูุงุฆุฏ ุณูููุฉ ูู ูุญุงุตูู ูุนููุฉ
๐น ุดูุงููุฉ ูุงููุฉ ูุชูุงุฑูุฑ ุฏูุฑูุฉ

๐ ููุฒุฉ ุฅุถุงููุฉ:
ุนูุฏ ุงูุชุณุฌูู ุงูุชุจ ููุฏู ุงููููุฒ: {partner_code}

๐ ุงุจุฏุฃ ุชุฌุฑุจุชู ุงูุงุณุชุซูุงุฑูุฉ ุงูุขู:
{website_url}

ุงุณุชุซูุงุฑ ุจุณูุทโฆ ุจุฃุตู ุฒุฑุงุนู ุญูููู'
WHERE key = 'partner_share_message_template';
```

---

### 2. ุชุญุฏูุซ View ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงููุดููุฉ:**
```sql
-- ุงูู view ุงููุฏูู ูุง ูุญุชูู ุนูู partner_code
CREATE VIEW influencer_rewards_details AS
SELECT 
  name AS referral_code,  -- โ ุงูุงุณู ููุท
  ...
```

**ุงูุญู:**
```sql
DROP VIEW IF EXISTS influencer_rewards_details;

CREATE VIEW influencer_rewards_details AS
SELECT 
  ip.id,
  ip.user_id,
  ip.name AS referral_code,
  ip.partner_code,  -- โ ุฅุถุงูุฉ ุงูููุฏ ุงูุฌุฏูุฏ
  ip.display_name AS partner_name,
  ip.is_active,
  ip.total_bookings,
  ip.total_trees_booked,
  ip.total_rewards_earned,
  ...
FROM influencer_partners ip;
```

---

### 3. ุชุญุฏูุซ ุงูุฎุฏูุฉ (influencerMarketingService.ts)

**ูุจู:**
```typescript
const { data, error } = await supabase
  .from('influencer_rewards_details')
  .select('referral_code, partner_name, ...')  // โ ูุง ูุทูุจ partner_code
  .eq('user_id', userId)
  .eq('is_active', true)
  .maybeSingle();

return {
  name: data.referral_code,
  display_name: data.partner_name,
  // โ ูุง ููุฌุฏ partner_code
  ...
};
```

**ุจุนุฏ:**
```typescript
const { data, error } = await supabase
  .from('influencer_rewards_details')
  .select('referral_code, partner_code, partner_name, ...')  // โ ูุทูุจ partner_code
  .eq('user_id', userId)
  .eq('is_active', true)
  .maybeSingle();

return {
  name: data.referral_code,
  display_name: data.partner_name,
  partner_code: data.partner_code,  // โ ุฅุถุงูุฉ ุงูููุฏ
  ...
};
```

---

## ุงููุชูุฌุฉ ุงูููุงุฆูุฉ ๐

### 1. ูุณู "ุดุงุฑู ููุฏู ุงููููุฒ"

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ      ุดุงุฑู ููุฏู ุงููููุฒ ูุงูุณุจ        โ
โ                                      โ
โ  ๐ ููุฏู ุงููููุฒ:                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ     HNHTBH7780        [๐]   โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  ุงุณูู: ุฒูุฏ ุนุจุฏุงููู ุงูุญุจุฑ          โ
โ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  ๐ ุงูุณุฎ ุฑุณุงูุฉ ุงููุดุงุฑูุฉ      โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                      โ
โ  ๐ก ูุตูุญุฉ: ุงุถุบุท ููุณุฎ ุฑุณุงูุฉ ุฌุงูุฒุฉ  โ
โ  ุชุญุชูู ุนูู ููุฏู ุงููููุฒ              โ
โ                                      โ
โ  โจ ููู ูุณุชุฎุฏู ุงูุนููู ููุฏูุ       โ
โ  ุนูุฏ ุงูุญุฌุฒุ ูุฏุฎู ููุฏู:             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ      HNHTBH7780              โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  ูู ุญูู "ููุฏ ุดุฑูู ุงููุณูุฑุฉ"        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 2. ุฑุณุงูุฉ ุงููุดุงุฑูุฉ ุงูุฌุฏูุฏุฉ

ุนูุฏ ุงูุถุบุท ุนูู "ุงูุณุฎ ุฑุณุงูุฉ ุงููุดุงุฑูุฉ":

```
๐ฟ ุงุณุชุซูุฑ ูู ุดุฌุฑุฉโฆ ูุงูุชูู ุญุตุฉ ูู ุฃุฑุถ ุญููููุฉ

ุฃูููุง ุจูุ
ุฃูุง ุฒูุฏ ุนุจุฏุงููู ุงูุญุจุฑ
ุดุฑูู ูุฌุงุญ ูุนุชูุฏ ูู ููุตุฉ ุญุตุต ุฒุฑุงุนูุฉ ๐ฑ

๐น ุนุจุฑ ุงูููุตุฉ ููููู ุญุฌุฒ ุดุฌุฑุฉ ุฒูุชูู ูู ูุฒุงุฑุน ุญููููุฉ
๐น ูุชุงุจุนุฉ ุงูุดุฌุฑุฉ ูุงูุฅูุชุงุฌ ุฎุทูุฉ ุจุฎุทูุฉ
๐น ุนูุงุฆุฏ ุณูููุฉ ูู ูุญุงุตูู ูุนููุฉ
๐น ุดูุงููุฉ ูุงููุฉ ูุชูุงุฑูุฑ ุฏูุฑูุฉ

๐ ููุฒุฉ ุฅุถุงููุฉ:
ุนูุฏ ุงูุชุณุฌูู ุงูุชุจ ููุฏู ุงููููุฒ: HNHTBH7780

๐ ุงุจุฏุฃ ุชุฌุฑุจุชู ุงูุงุณุชุซูุงุฑูุฉ ุงูุขู:
https://ashjari.com

ุงุณุชุซูุงุฑ ุจุณูุทโฆ ุจุฃุตู ุฒุฑุงุนู ุญูููู
```

---

## ุงูููุงุฑูุฉ ูุจู ูุจุนุฏ

### ูุจู ุงูุชุญุฏูุซ โ

```
ุฑุณุงูุฉ ุงููุดุงุฑูุฉ:
"ุนูุฏ ุงูุชุณุฌูู ุงูุชุจ ุงุณูู: ุฒูุฏ ุนุจุฏุงููู ุงูุญุจุฑ"

ุงููุดููุฉ:
- ุงูุนููู ูุฏุฎู ุงูุงุณู: "ุฒูุฏ ุนุจุฏุงููู ุงูุญุจุฑ"
- ุงููุธุงู ูุจุญุซ ุนู ููุฏ: "ุฒูุฏ ุนุจุฏุงููู ุงูุญุจุฑ"
- ูุง ูุฌุฏ ุดูุก! โ
- ูุง ุชูุญุณุจ ุงูููุงูุฃุฉ ููุดุฑูู โ
```

### ุจุนุฏ ุงูุชุญุฏูุซ โ

```
ุฑุณุงูุฉ ุงููุดุงุฑูุฉ:
"ุนูุฏ ุงูุชุณุฌูู ุงูุชุจ ููุฏู ุงููููุฒ: HNHTBH7780"

ุงููุชูุฌุฉ:
- ุงูุนููู ูุฏุฎู ุงูููุฏ: "HNHTBH7780"
- ุงููุธุงู ูุจุญุซ ุนู ููุฏ: "HNHTBH7780"
- ูุฌุฏ ุงูุดุฑูู! โ
- ุชูุญุณุจ ุงูููุงูุฃุฉ ููุดุฑูู โ
```

---

## ุงูุชุฏูู ุงููุงูู ๐

### 1. ุดุฑูู ุงููุฌุงุญ

```
1. ูุฏุฎู ูุญุณุงุจู
2. ูุฑู ููุฏู ุงููููุฒ: HNHTBH7780
3. ูุถุบุท "ุงูุณุฎ ุฑุณุงูุฉ ุงููุดุงุฑูุฉ"
4. ูุญุตู ุนูู ุฑุณุงูุฉ ุฌุงูุฒุฉ ุชุญุชูู ุนูู ุงูููุฏ
5. ูุดุงุฑููุง ูู ูุงุชุณุงุจ/ุชููุชุฑ/ุฅูุฎ
```

### 2. ุงูุนููู ุงููุญุชูู

```
1. ูุณุชูู ุงูุฑุณุงูุฉ
2. ูุฑู ุงูููุฏ: HNHTBH7780
3. ููุชุญ ุงูููุตุฉ
4. ูุฎุชุงุฑ ูุฒุฑุนุฉ
5. ูุฏุฎู ุงูููุฏ ูู ุญูู "ููุฏ ุดุฑูู ุงููุณูุฑุฉ"
6. ูููู ุงูุญุฌุฒ
```

### 3. ุงููุธุงู

```
1. ูุณุชูุจู ุงูุญุฌุฒ ูุน ุงูููุฏ: HNHTBH7780
2. ูุจุญุซ ูู ุฌุฏูู influencer_partners
3. ูุฌุฏ ุงูุดุฑูู ุงููุฑุชุจุท ุจุงูููุฏ
4. ูุฑุจุท ุงูุญุฌุฒ ุจุงูุดุฑูู
5. ูุญุณุจ ุงูููุงูุฃุฉ ููุดุฑูู
6. ูุฑุณู ุฅุดุนุงุฑ ููุดุฑูู
```

---

## ุงูุชุญุฏูุซุงุช ุงูุชูููุฉ

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
-- 1. ุชุญุฏูุซ ุฑุณุงูุฉ ุงููุดุงุฑูุฉ
โ system_settings.partner_share_message_template
   - ุงุณุชุจุฏุงู {partner_name} ุจู {partner_code}

-- 2. ุชุญุฏูุซ View
โ influencer_rewards_details
   - ุฅุถุงูุฉ partner_code column
```

### 2. ุงูุฎุฏูุงุช (Services)

```typescript
-- 1. influencerMarketingService.ts
โ getMyInfluencerStats()
   - ุฅุถุงูุฉ partner_code ูู SELECT
   - ุฅุถุงูุฉ partner_code ูู return object

-- 2. partnerShareMessageService.ts
โ ูุง ูุญุชุงุฌ ุชุญุฏูุซ (ูุณุชุฎุฏู ูุชุบูุฑุงุช ุฏููุงููููุฉ)
```

### 3. ุงูููููุงุช (Components)

```typescript
-- 1. InfluencerDashboard.tsx
โ ูุง ูุญุชุงุฌ ุชุญุฏูุซ (ูุนุฑุถ stats?.partner_code ุจุงููุนู)

-- 2. SuccessPartnerAccount.tsx
โ ูุง ูุญุชุงุฌ ุชุญุฏูุซ (ูุนุฑุถ InfluencerDashboard)
```

---

## ุงููููุงุช ุงููุญุฏุซุฉ ๐

```
โ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
   - system_settings (ุงูุฑุณุงูุฉ)
   - influencer_rewards_details (view)

โ ุงูุฎุฏูุงุช:
   - src/services/influencerMarketingService.ts

โ ุงูููููุงุช:
   - ูุง ููุฌุฏ (ูุงูุช ุฌุงูุฒุฉ ุจุงููุนู!)
```

---

## ุงูุงุฎุชุจุงุฑ ๐งช

### ุงุฎุชุจุงุฑ 1: ุนุฑุถ ุงูููุฏ

```bash
1. ุณุฌู ุฏุฎูู ูุดุฑูู ูุฌุงุญ
2. ุงูุชุญ ุญุณุงุจู
3. ุชุญูู ูู ูุณู "ุดุงุฑู ููุฏู ุงููููุฒ"

ุงููุชูุฌุฉ ุงููุชููุนุฉ:
โ ุงูููุฏ ูุธูุฑ ุจูุถูุญ: HNHTBH7780
โ ุงูุงุณู ูุธูุฑ ุฃุณููู: ุฒูุฏ ุนุจุฏุงููู ุงูุญุจุฑ
โ ูููู ูุณุฎ ุงูููุฏ
โ ูููู ูุณุฎ ุฑุณุงูุฉ ุงููุดุงุฑูุฉ
```

### ุงุฎุชุจุงุฑ 2: ุฑุณุงูุฉ ุงููุดุงุฑูุฉ

```bash
1. ุงุถุบุท ุนูู "ุงูุณุฎ ุฑุณุงูุฉ ุงููุดุงุฑูุฉ"
2. ุงูุตู ูู ุฃู ููุงู

ุงููุชูุฌุฉ ุงููุชููุนุฉ:
โ ุงูุฑุณุงูุฉ ุชุญุชูู ุนูู: "ููุฏู ุงููููุฒ: HNHTBH7780"
โ ูุง ุชุญุชูู ุนูู: "ุงุณูู: ุฒูุฏ ุนุจุฏุงููู ุงูุญุจุฑ"
```

### ุงุฎุชุจุงุฑ 3: ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
-- 1. ุชุญูู ูู ุงูุฑุณุงูุฉ
SELECT value 
FROM system_settings 
WHERE key = 'partner_share_message_template';

-- ูุฌุจ ุฃู ุชุญุชูู ุนูู: {partner_code}
-- ูุง ูุฌุจ ุฃู ุชุญุชูู ุนูู: {partner_name} ูู ููุงู ุงูููุฏ

-- 2. ุชุญูู ูู ุงูู View
SELECT referral_code, partner_code, partner_name
FROM influencer_rewards_details
LIMIT 1;

-- ูุฌุจ ุฃู ุชุนุฑุถ:
-- referral_code: ุฒูุฏ ุนุจุฏุงููู ุงูุญุจุฑ (ุงูุงุณู ุงููุฏูู)
-- partner_code: HNHTBH7780 (ุงูููุฏ ุงูุฌุฏูุฏ)
-- partner_name: ุฒูุฏ ุนุจุฏุงููู ุงูุญุจุฑ (ุงุณู ุงูุนุฑุถ)
```

---

## ููุงุท ูููุฉ ๐

### 1. ุงูุงุญุชูุงุธ ุจุงูุงุณู ุงููุฏูู

```
โ referral_code (ุงูุงุณู ุงููุฏูู) ูุง ูุฒุงู ููุฌูุฏุงู
โ partner_code (ุงูููุฏ ุงูุฌุฏูุฏ) ุชู ุฅุถุงูุชู
โ ูุง ููุฌุฏ ูุณุฑ ูู ุงูุจูุงูุงุช ุงููุฏููุฉ
```

### 2. ุงุณุชุฎุฏุงู ุงูููุฏ ูู ุงููุดุงุฑูุฉ

```
โ ุงูุฑุณุงูุฉ ุชุณุชุฎุฏู {partner_code}
โ ุงูููุฏ ูุธูุฑ ุจูุถูุญ ููุดุฑูู
โ ุงูุนููู ูุฏุฎู ุงูููุฏ ูููุณ ุงูุงุณู
```

### 3. ุงูุชูุงูู ูุน ุงููุธุงู ุงููุฏูู

```
โ ุงููุธุงู ูุฏุนู ููุงู ูู:
   - partner_code (ุงูููุฏ ุงูุฌุฏูุฏ) โ
   - name (ุงูุงุณู ุงููุฏูู) โ ููุชูุงูู
```

---

## ุงูุฎูุงุตุฉ ๐ฏ

### ูุง ุชู ุฅุตูุงุญู:

```
โ ุฑุณุงูุฉ ุงููุดุงุฑูุฉ ุชุณุชุฎุฏู ุงูููุฏ ุจุฏูุงู ูู ุงูุงุณู
โ ูุณู "ุดุงุฑู ููุฏู ุงููููุฒ" ูุนุฑุถ ุงูููุฏ ุงูุตุญูุญ
โ Dashboard ูุฌูุจ partner_code ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ View ูุญุฏุซ ููุดูู partner_code
โ ุงูุฎุฏูุฉ ูุญุฏุซุฉ ูุฅุฑุฌุงุน partner_code
```

### ุงููุชูุฌุฉ:

```
๐ ูุธุงู ุงูููุฏ ูุนูู ุจุดูู ูุงูู ูู ุญุณุงุจ ุดุฑูู ุงููุฌุงุญ!

- ุงูููุฏ ูุธูุฑ ุจูุถูุญ โ
- ุฑุณุงูุฉ ุงููุดุงุฑูุฉ ุตุญูุญุฉ โ
- ุณูููุฉ ุงููุณุฎ ูุงููุดุงุฑูุฉ โ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ โ
```

---

**ุชู ุงูุชุทุจูู ูุงูุงุฎุชุจุงุฑ ุจูุฌุงุญ!** โ

**ุงูุจูุงุก ูุฌุญ ุจุฏูู ุฃุฎุทุงุก!** โ
